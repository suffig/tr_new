import{g as c,B as d}from"./main-DfTwKaJ3.js";const f="fifa_version_teams",i="fifa_version_icons",T={AEK:{label:"AEK Athen",color:"blue",icon:"aek",customIcon:null},Real:{label:"Real Madrid",color:"red",icon:"real",customIcon:null},Ehemalige:{label:"Ehemalige",color:"gray",icon:"⚫",customIcon:null}},y={AEK:{label:"Dynamo",color:"blue",icon:"dynamo",customIcon:null},Real:{label:"Rangers",color:"red",icon:"real",customIcon:null},Ehemalige:{label:"Ehemalige",color:"gray",icon:"⚫",customIcon:null}},E=r=>r===d.FC26?{...y}:{...T},u=(r=null)=>{try{const o=r||c(),n=localStorage.getItem(f);return(n?JSON.parse(n):{})[o]||E(o)}catch(o){return console.error("Error getting version teams:",o),E(r)}},m=(r,o=null)=>{try{const n=o||c(),e=localStorage.getItem(f),t=e?JSON.parse(e):{};return t[n]=r,localStorage.setItem(f,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("versionTeamsChanged",{detail:{version:n,teams:r}})),!0}catch(n){return console.error("Error setting version teams:",n),!1}},p=(r,o)=>{try{const n=u(r);return m(n,o)}catch(n){return console.error("Error copying teams between versions:",n),!1}},V=(r=null)=>{try{const o=r||c();return m(E(o),r)}catch(o){return console.error("Error resetting version teams:",o),!1}},b=async(r,o,n=null)=>{try{const e=n||c(),t=new FileReader,s=await new Promise((I,S)=>{t.onload=()=>I(t.result),t.onerror=S,t.readAsDataURL(o)}),a=localStorage.getItem(i),l=a?JSON.parse(a):{};l[e]||(l[e]={}),l[e][r]={data:s,filename:o.name,size:o.size,type:o.type,uploadedAt:new Date().toISOString()},localStorage.setItem(i,JSON.stringify(l));const g=u(e);return g[r]&&(g[r].customIcon=s,m(g,e)),!0}catch(e){return console.error("Error uploading team icon:",e),!1}},h=(r,o=null)=>{var n;try{const e=o||c(),t=localStorage.getItem(i),s=t?JSON.parse(t):{};(n=s[e])!=null&&n[r]&&(delete s[e][r],localStorage.setItem(i,JSON.stringify(s)));const a=u(e);return a[r]&&(a[r].customIcon=null,m(a,e)),!0}catch(e){return console.error("Error removing team icon:",e),!1}},v=(r,o=null)=>{try{const e=u(o)[r];return e?{value:r,label:e.label,color:e.color,icon:e.customIcon||e.icon}:{value:r,label:r,color:"gray",icon:"⚽"}}catch(n){return console.error("Error getting version team display:",n),{value:r,label:r,color:"gray",icon:"⚽"}}};export{h as a,u as b,p as c,v as g,V as r,m as s,b as u};
