import{r as O,u as C,j as e,L as Z}from"./main-CFoKJTdF.js";import{H as Q}from"./HorizontalNavigation-BbyJbQWy.js";function I({limit:w=10,showTitle:l=!0,onNavigate:i}){const[o,n]=O.useState("all"),{data:m,loading:a}=C("matches","*",{order:{column:"date",ascending:!1}}),{data:k,loading:G}=C("players","*"),{data:s,loading:x}=C("bans","*",{order:{column:"id",ascending:!1}}),{data:p,loading:W}=C("transactions","*",{order:{column:"date",ascending:!1}}),D=a||G||x||W,t=O.useMemo(()=>{if(!m||!k||!s||!p)return[];const c=[];m==null||m.slice(0,5).forEach(d=>{const N=new Date(d.date);c.push({id:`match-${d.id}`,type:"match",icon:"⚽",title:`AEK ${d.goalsa||0} - ${d.goalsb||0} Real`,description:d.sds?`⭐ SdS: ${d.sds}`:"Spiel gespielt",date:N,dateText:U(N),action:()=>i==null?void 0:i("matches",{highlightMatch:d.id})})}),s==null||s.slice(0,3).forEach(d=>{const N=k.find(F=>F.id===d.player_id),R=(N==null?void 0:N.name)||d.player_name||"Unbekannt",L=(d.totalgames||0)-(d.matchesserved||0);c.push({id:`ban-${d.id}`,type:"ban",icon:"🚫",title:`Sperre: ${R}`,description:`${d.type} • ${L>0?`${L} Spiele verbleibend`:"Abgelaufen"}`,date:new Date,dateText:"Kürzlich",action:()=>i==null?void 0:i("bans",{highlightBan:d.id})})}),p==null||p.slice(0,5).forEach(d=>{const N=new Date(d.date),R=d.amount||0;c.push({id:`transaction-${d.id}`,type:"transaction",icon:R>0?"💰":"💸",title:`${R>0?"+":""}${R}€`,description:d.description||d.type||"Transaktion",date:N,dateText:U(N),action:()=>i==null?void 0:i("finanzen",{highlightTransaction:d.id})})});const h=c.sort((d,N)=>N.date-d.date);return(o==="all"?h:h.filter(d=>d.type===o)).slice(0,w)},[m,k,s,p,o,w,i]),f=O.useMemo(()=>{if(!m||!s||!p)return{};const c=new Date,h=new Date(c.getTime()-7*24*60*60*1e3);return{matches:m.filter(A=>new Date(A.date)>=h).length,bans:s.filter(A=>(A.totalgames||0)-(A.matchesserved||0)>0).length,transactions:p.filter(A=>new Date(A.date)>=h).length}},[m,s,p]);return D?e.jsx(Z,{message:"Lade Aktivitäten..."}):e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[l&&e.jsxs("div",{className:"p-4 border-b border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Letzte Aktivitäten"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded border border-blue-200",children:[f.matches||0," Spiele (7T)"]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded border border-red-200",children:[f.bans||0," aktive Sperren"]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200",children:[f.transactions||0," Transaktionen (7T)"]})]})})]}),e.jsx("div",{className:"flex gap-2 mt-3",children:[{key:"all",label:"Alle",count:t.length},{key:"match",label:"Spiele",count:t.filter(c=>c.type==="match").length},{key:"transaction",label:"Finanzen",count:t.filter(c=>c.type==="transaction").length},{key:"ban",label:"Sperren",count:t.filter(c=>c.type==="ban").length}].map(({key:c,label:h,count:A})=>e.jsxs("button",{onClick:()=>n(c),className:`px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${o===c?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[h," ",A>0&&`(${A})`]},c))})]}),e.jsx("div",{className:"divide-y divide-border-light",children:t.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"📊"}),e.jsx("p",{children:"Keine Aktivitäten gefunden"}),e.jsx("p",{className:"text-sm mt-1",children:o==="all"?"Beginne Daten hinzuzufügen":`Keine ${o==="match"?"Spiele":o==="transaction"?"Transaktionen":"Sperren"} gefunden`})]}):t.map(c=>e.jsx("button",{onClick:c.action,className:"w-full p-4 text-left hover:bg-bg-secondary transition-colors duration-200 focus:outline-none focus:bg-bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:c.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-text-primary truncate",children:c.title}),e.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap ml-2",children:c.dateText})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate",children:c.description})]})]})},c.id))}),t.length>0&&l&&e.jsx("div",{className:"p-3 border-t border-border-light bg-bg-secondary",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>i==null?void 0:i("stats"),className:"text-sm text-primary-green hover:text-primary-green-dark transition-colors duration-200",children:"Alle Statistiken anzeigen →"})})})]})}function U(w){const i=Math.floor((new Date-w)/(1e3*60)),o=Math.floor(i/60),n=Math.floor(o/24);return i<1?"Gerade eben":i<60?`vor ${i}m`:o<24?`vor ${o}h`:n<7?`vor ${n}d`:n<30?`vor ${Math.floor(n/7)}w`:w.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}function Y({onNavigate:w}){const[l,i]=O.useState("all"),{data:o,loading:n}=C("matches","*",{order:{column:"date",ascending:!1}}),{data:m,loading:a}=C("players","*"),{data:k,loading:G}=C("bans","*"),{data:s,loading:x}=C("transactions","*",{order:{column:"date",ascending:!1}}),{data:p,loading:W}=C("finances","*"),D=n||a||G||x||W,t=O.useMemo(()=>{if(!o||!m||!k||!s||!p)return null;const f=new Date,c={week:new Date(f.getTime()-7*24*60*60*1e3),month:new Date(f.getTime()-30*24*60*60*1e3),all:new Date(0)},h=c[l]||c.all,A=o.filter(b=>new Date(b.date)>=h),d=s.filter(b=>new Date(b.date)>=h),N={AEK:{wins:0,losses:0,goals:0,goalsAgainst:0},Real:{wins:0,losses:0,goals:0,goalsAgainst:0}};A.forEach(b=>{const v=b.goalsa||0,H=b.goalsb||0;N.AEK.goals+=v,N.AEK.goalsAgainst+=H,N.Real.goals+=H,N.Real.goalsAgainst+=v,v>H?(N.AEK.wins++,N.Real.losses++):H>v&&(N.Real.wins++,N.AEK.losses++)});const R={};m.forEach(b=>{R[b.id]={name:b.name,team:b.team,goals:0,matches:0,value:b.value||0}}),A.forEach(b=>{["goalscorer1a","goalscorer2a","goalscorer3a","goalscorer4a","goalscorer5a"].forEach(v=>{b[v]&&R[b[v]]&&(R[b[v]].goals++,R[b[v]].matches++)}),["goalscorer1b","goalscorer2b","goalscorer3b","goalscorer4b","goalscorer5b"].forEach(v=>{b[v]&&R[b[v]]&&(R[b[v]].goals++,R[b[v]].matches++)})});const L=p.find(b=>b.team==="AEK")||{balance:0},F=p.find(b=>b.team==="Real")||{balance:0},K=d.filter(b=>b.amount>0).reduce((b,v)=>b+v.amount,0),j=d.filter(b=>b.amount<0).reduce((b,v)=>b+Math.abs(v.amount),0),E=k.filter(b=>(b.totalgames||0)-(b.matchesserved||0)>0),S={AEK:E.filter(b=>{const v=m.find(H=>H.id===b.player_id);return(v==null?void 0:v.team)==="AEK"}).length,Real:E.filter(b=>{const v=m.find(H=>H.id===b.player_id);return(v==null?void 0:v.team)==="Real"}).length},$=Object.values(R).filter(b=>b.goals>0).sort((b,v)=>v.goals-b.goals).slice(0,5);return{teamRecords:N,playerStats:$,finances:{aek:L.balance||0,real:F.balance||0,income:K,expenses:j,net:K-j},bans:{active:E.length,aek:S.AEK,real:S.Real},totals:{matches:A.length,players:m.length,transactions:d.length}}},[o,m,k,s,p,l]);return D?e.jsx(Z,{message:"Lade Dashboard..."}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Dashboard"}),e.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"Woche"},{key:"month",label:"Monat"},{key:"all",label:"Gesamt"}].map(({key:f,label:c})=>e.jsx("button",{onClick:()=>i(f),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${l===f?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:c},f))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(V,{icon:"⚽",title:"Spiele",value:t.totals.matches,subtitle:l==="all"?"Gesamt":"Im Zeitraum",color:"blue",onClick:()=>w==null?void 0:w("matches")}),e.jsx(V,{icon:"👥",title:"Spieler",value:t.totals.players,subtitle:"Aktive Spieler",color:"green",onClick:()=>w==null?void 0:w("squad")}),e.jsx(V,{icon:"⚽",title:"Tore",value:t.teamRecords.AEK.goals+t.teamRecords.Real.goals,subtitle:l==="all"?"Gesamt":"Im Zeitraum",color:"green",onClick:()=>w==null?void 0:w("matches")}),e.jsx(V,{icon:"🚫",title:"Sperren",value:t.bans.active,subtitle:"Aktive Sperren",color:"red",onClick:()=>w==null?void 0:w("bans")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Team-Vergleich"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"🔵"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"AEK"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[t.teamRecords.AEK.wins,"S / ",t.teamRecords.AEK.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-blue-900",children:[t.teamRecords.AEK.goals,":",t.teamRecords.AEK.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[t.bans.aek," Sperren"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"🔴"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-900",children:"Real"}),e.jsxs("div",{className:"text-sm text-red-700",children:[t.teamRecords.Real.wins,"S / ",t.teamRecords.Real.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-900",children:[t.teamRecords.Real.goals,":",t.teamRecords.Real.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-red-700",children:[t.bans.real," Sperren"]})]})]})]})})]}),e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Top Torschützen"})}),e.jsx("div",{className:"p-4",children:t.playerStats.length===0?e.jsxs("div",{className:"text-center text-text-secondary py-4",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"⚽"}),e.jsx("p",{children:"Keine Tore im Zeitraum"})]}):e.jsx("div",{className:"space-y-3",children:t.playerStats.map((f,c)=>{var h;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-green text-white text-xs flex items-center justify-center font-bold",children:c+1}),e.jsx("span",{className:f.team==="AEK"?"text-blue-600":"text-red-600",children:f.team==="AEK"?"🔵":"🔴"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:f.name}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[(h=f.value)==null?void 0:h.toFixed(1),"M €"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-text-primary",children:[f.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[f.matches," Spiele"]})]})]},f.name)})})})]})]}),e.jsx(I,{onNavigate:w,limit:5})]}):e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"📊"}),e.jsx("p",{children:"Keine Daten verfügbar"})]})}function V({icon:w,title:l,value:i,subtitle:o,color:n="gray",onClick:m}){const a={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900",gray:"bg-gray-50 border-gray-200 text-gray-900"};return e.jsx("button",{onClick:m,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md ${a[n]} ${m?"hover:scale-105 cursor-pointer":"cursor-default"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:w}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold",children:i}),e.jsx("div",{className:"text-sm opacity-75",children:l}),e.jsx("div",{className:"text-xs opacity-60",children:o})]})]})})}function X({matches:w}){const[l,i]=O.useState(null),o=O.useMemo(()=>w?w.reduce((s,x)=>{const p=x.date;return s[p]||(s[p]=[]),s[p].push(x),s},{}):{},[w]),n=O.useMemo(()=>Object.keys(o).sort((s,x)=>new Date(x)-new Date(s)),[o]),m=s=>{if(!s||s.length===0)return null;const x=s.reduce((j,E)=>j+(E.goalsa||0)+(E.goalsb||0),0),p=s.length,W=p>0?(x/p).toFixed(1):"0.0",D=s.reduce((j,E)=>{const S=(E.goalsa||0)+(E.goalsb||0),$=(j.goalsa||0)+(j.goalsb||0);return S>$?E:j},s[0]);let t=0,f=0,c=0,h=0;s.forEach(j=>{const E=j.goalsa||0,S=j.goalsb||0;c+=E,h+=S,E>S?t++:S>E&&f++});const A={};s.forEach(j=>{j.goalslista&&(typeof j.goalslista=="string"?JSON.parse(j.goalslista):j.goalslista).forEach(S=>{const $=typeof S=="string"?S:S.player,b=typeof S=="string"?1:S.count||1;A[$]=(A[$]||0)+b}),j.goalslistb&&(typeof j.goalslistb=="string"?JSON.parse(j.goalslistb):j.goalslistb).forEach(S=>{const $=typeof S=="string"?S:S.player,b=typeof S=="string"?1:S.count||1;A[$]=(A[$]||0)+b})});const d=Object.entries(A).reduce((j,[E,S])=>S>(j.goals||0)?{player:E,goals:S}:j,{player:null,goals:0}),N=s.map(j=>Math.abs((j.goalsa||0)-(j.goalsb||0))),R=N.length>0?(N.reduce((j,E)=>j+E,0)/N.length).toFixed(1):"0.0",L=N.filter(j=>j<=1).length,F=N.filter(j=>j>=3).length,K=[];return s.forEach(j=>{Object.entries(A).forEach(([S,$])=>{$>=3&&K.push({type:"hat-trick",player:S,goals:$,description:`${S} erzielte ${$} Tore`})}),(j.goalsa||0)===0&&K.push({type:"clean-sheet",team:"Real",description:"Real hielt die Null"}),(j.goalsb||0)===0&&K.push({type:"clean-sheet",team:"AEK",description:"AEK hielt die Null"});const E=(j.goalsa||0)+(j.goalsb||0);E>=6&&K.push({type:"high-scoring",goals:E,description:`Torspektakel mit ${E} Toren`})}),{totalMatches:p,totalGoals:x,avgGoalsPerMatch:W,aekWins:t,realWins:f,aekGoals:c,realGoals:h,topScorer:d,highestScoringMatch:D,avgMargin:R,closeGames:L,blowouts:F,specialEvents:K,playerGoals:A}},a=l?m(o[l]):null,k=s=>new Date(s).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),G=s=>new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:"📅"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-title3 font-bold text-text-primary",children:"Spieltag-Übersicht"}),e.jsx("p",{className:"text-caption1 text-text-secondary",children:"Detaillierte Analyse pro Spieltag mit interessanten Statistiken"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Spieltag auswählen (",n.length," verfügbar)"]}),e.jsxs("select",{value:l||"",onChange:s=>i(s.target.value||null),className:"form-input w-full max-w-md",children:[e.jsx("option",{value:"",children:"-- Spieltag wählen --"}),n.map(s=>e.jsxs("option",{value:s,children:[k(s)," (",o[s].length," Spiel",o[s].length!==1?"e":"",")"]},s))]})]}),!l&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.slice(0,6).map(s=>{const x=m(o[s]);return e.jsxs("div",{onClick:()=>i(s),className:"p-4 bg-bg-secondary rounded-lg border border-border-light hover:border-primary-blue cursor-pointer transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"text-sm font-medium text-text-primary mb-2",children:G(s)}),e.jsxs("div",{className:"text-xs text-text-secondary mb-2",children:[x.totalMatches," Spiel",x.totalMatches!==1?"e":""]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore:"}),e.jsx("span",{className:"font-medium",children:x.totalGoals})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"⌀ pro Spiel:"}),e.jsx("span",{className:"font-medium",children:x.avgGoalsPerMatch})]}),x.topScorer.player&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top:"}),e.jsxs("span",{className:"font-medium text-primary-green",children:[x.topScorer.player.split(" ").slice(-1)[0]," (",x.topScorer.goals,")"]})]})]})]},s)})})]}),l&&a&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-text-primary",children:k(l)}),e.jsxs("p",{className:"text-text-secondary",children:[a.totalMatches," Spiel",a.totalMatches!==1?"e":""," an diesem Tag"]})]}),e.jsx("button",{onClick:()=>i(null),className:"text-text-muted hover:text-text-primary",children:"✕"})]}),a.specialEvents.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:"🌟 Besondere Ereignisse"}),e.jsx("div",{className:"space-y-2",children:a.specialEvents.map((s,x)=>e.jsx("div",{className:`p-2 rounded-lg text-sm ${s.type==="hat-trick"?"bg-yellow-50 text-yellow-800 border border-yellow-200":s.type==="clean-sheet"?"bg-green-50 text-green-800 border border-green-200":s.type==="high-scoring"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:s.description},x))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-text-primary",children:a.totalGoals}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Tore insgesamt"}),e.jsxs("div",{className:"text-xs text-text-muted",children:["⌀ ",a.avgGoalsPerMatch," pro Spiel"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-blue",children:a.aekWins}),e.jsx("div",{className:"text-sm text-text-secondary",children:"AEK Siege"}),e.jsxs("div",{className:"text-xs text-text-muted",children:[a.aekGoals," Tore erzielt"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-red",children:a.realWins}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Real Siege"}),e.jsxs("div",{className:"text-xs text-text-muted",children:[a.realGoals," Tore erzielt"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:a.topScorer.player?a.topScorer.goals:"0"}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Meiste Tore"}),e.jsx("div",{className:"text-xs text-text-muted",children:a.topScorer.player?a.topScorer.player.split(" ").slice(-1)[0]:"Kein Torschütze"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"⚽ Spiele im Detail"}),e.jsx("div",{className:"space-y-4",children:o[l].map(s=>e.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg border border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded text-xs flex items-center justify-center font-bold",children:"A"}),e.jsx("span",{className:"font-medium",children:"AEK"})]}),e.jsxs("div",{className:"text-xl font-bold",children:[s.goalsa||0," : ",s.goalsb||0]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Real"}),e.jsx("span",{className:"w-6 h-6 bg-red-500 text-white rounded text-xs flex items-center justify-center font-bold",children:"R"})]})]}),e.jsx("div",{className:"text-sm text-text-muted",children:(()=>{const x=(s.goalsa||0)+(s.goalsb||0),p=Math.abs((s.goalsa||0)-(s.goalsb||0));return x===0?"Torlos":x>=6?"Torspektakel":p===0?"Unentschieden":p>=3?"Deutlicher Sieg":p===1?"Knapper Sieg":"Normales Spiel"})()})]}),(s.goalslista||s.goalslistb)&&e.jsxs("div",{className:"space-y-2",children:[s.goalslista&&JSON.parse(s.goalslista).length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-primary-blue font-medium",children:"AEK Torschützen: "}),JSON.parse(s.goalslista).map((x,p)=>{const W=typeof x=="string"?x:x.player,D=typeof x=="string"?1:x.count||1;return e.jsxs("span",{className:"mr-2",children:[W," ",D>1?`(${D})`:""]},p)})]}),s.goalslistb&&JSON.parse(s.goalslistb).length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-primary-red font-medium",children:"Real Torschützen: "}),JSON.parse(s.goalslistb).map((x,p)=>{const W=typeof x=="string"?x:x.player,D=typeof x=="string"?1:x.count||1;return e.jsxs("span",{className:"mr-2",children:[W," ",D>1?`(${D})`:""]},p)})]})]}),s.manofthematch&&e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"text-yellow-600 font-medium",children:"⭐ Spieler des Spiels: "}),e.jsx("span",{children:s.manofthematch})]})]},s.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"📊 Spielanalyse"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Durchschnittliche Tordifferenz:"}),e.jsx("span",{className:"font-medium",children:a.avgMargin})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Enge Spiele (≤1 Tor):"}),e.jsx("span",{className:"font-medium",children:a.closeGames})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Deutliche Siege (≥3 Tore):"}),e.jsx("span",{className:"font-medium",children:a.blowouts})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Höchste Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[(a.highestScoringMatch.goalsa||0)+(a.highestScoringMatch.goalsb||0)," Tore"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"👤 Top-Torschützen des Tages"}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(a.playerGoals).sort(([,s],[,x])=>x-s).slice(0,5).map(([s,x],p)=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${p===0?"bg-yellow-500 text-white":p===1?"bg-gray-400 text-white":p===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:p+1}),e.jsx("span",{className:"font-medium",children:s})]}),e.jsxs("span",{className:"font-bold text-primary-green",children:[x," Tor",x!==1?"e":""]})]},s)),Object.keys(a.playerGoals).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Keine Torschützen an diesem Tag"})]})]})]})]})]})}class ee{constructor(l,i,o,n){this.matches=l||[],this.players=i||[],this.bans=o||[],this.spielerDesSpiels=n||[],this.aekPlayers=(i||[]).filter(m=>m.team==="AEK"),this.realPlayers=(i||[]).filter(m=>m.team==="Real")}calculateTeamRecords(){const l={wins:0,losses:0},i={wins:0,losses:0};return this.matches.forEach(o=>{const n=o.goalsa||0,m=o.goalsb||0;n>m?(l.wins++,i.losses++):m>n&&(i.wins++,l.losses++)}),{aek:l,real:i}}calculateRecentForm(l=5){const i=this.matches.slice(-l),o=[],n=[];return i.forEach(m=>{const a=m.goalsa||0,k=m.goalsb||0;a>k?(o.push("W"),n.push("L")):k>a&&(o.push("L"),n.push("W"))}),{aek:o,real:n}}calculatePlayerStats(){return this.players.map(l=>{const i=this.countPlayerMatches(l.name,l.team),o=this.bans.filter(s=>s.player_id===l.id),n=this.spielerDesSpiels.find(s=>s.name===l.name&&s.team===l.team),m=n&&n.count||0,a=this.countPlayerGoalsFromMatches(l.name,l.team),k=l.goals||0,G=Math.max(k,a);return{...l,goals:G,matchesPlayed:i,sdsCount:m,goalsPerGame:i>0?(G/i).toFixed(2):"0.00",totalBans:o.length,disciplinaryScore:this.calculateDisciplinaryScore(o),goalsPerMatchWhenPlaying:i>0?G/i:0,sdsPercentage:i>0?(m/i*100).toFixed(1):"0.0"}}).sort((l,i)=>(i.goals||0)-(l.goals||0))}countPlayerGoalsFromMatches(l,i){let o=0;return this.matches.forEach(n=>{if(i==="AEK"&&n.goalslista)try{(Array.isArray(n.goalslista)?n.goalslista:typeof n.goalslista=="string"?JSON.parse(n.goalslista):[]).forEach(a=>{const k=typeof a=="string"?a:a.player,G=typeof a=="string"?1:a.count||1;k===l&&(o+=G)})}catch(m){console.warn("Error parsing AEK goals list:",m)}if(i==="Real"&&n.goalslistb)try{(Array.isArray(n.goalslistb)?n.goalslistb:typeof n.goalslistb=="string"?JSON.parse(n.goalslistb):[]).forEach(a=>{const k=typeof a=="string"?a:a.player,G=typeof a=="string"?1:a.count||1;k===l&&(o+=G)})}catch(m){console.warn("Error parsing Real goals list:",m)}}),o}countPlayerMatches(l,i){if(!l||!i)return this.matches.length;let o=0,n=0;this.matches.forEach(a=>{if(i==="AEK"&&a.goalslista)try{(Array.isArray(a.goalslista)?a.goalslista:typeof a.goalslista=="string"?JSON.parse(a.goalslista):[]).some(s=>(typeof s=="string"?s:s.player)===l)&&o++}catch{}if(i==="Real"&&a.goalslistb)try{(Array.isArray(a.goalslistb)?a.goalslistb:typeof a.goalslistb=="string"?JSON.parse(a.goalslistb):[]).some(s=>(typeof s=="string"?s:s.player)===l)&&o++}catch{}a.manofthematch===l&&n++});const m=this.matches.filter(a=>i==="AEK"&&(a.teama==="AEK"||a.teamb==="AEK")||i==="Real"&&(a.teama==="Real"||a.teamb==="Real")).length;return Math.max(o,n,m)}calculateDisciplinaryScore(l){let i=0;return l.forEach(o=>{switch(o.type){case"Gelb-Rote Karte":i+=3;break;case"Rote Karte":i+=5;break;case"Verletzung":i+=1;break;default:i+=1}}),i}calculateAdvancedStats(){const l=this.matches.length,i=this.matches.reduce((t,f)=>t+(f.goalsa||0)+(f.goalsb||0),0),o=this.matches.reduce((t,f)=>t+(f.goalsa||0),0),n=this.matches.reduce((t,f)=>t+(f.goalsb||0),0),m=this.matches.filter(t=>(t.goalsa||0)+(t.goalsb||0)>=5).length,a=this.matches.map(t=>Math.abs((t.goalsa||0)-(t.goalsb||0))).filter(t=>t>0),k=a.length>0?Math.max(...a):0,G=[...this.matches].sort((t,f)=>new Date(f.date)-new Date(t.date)).slice(0,10);let s={type:"none",count:0,team:""};if(G.length>0){const t=G[0],f=t.goalsa||0,c=t.goalsb||0;f>c?(s.type="win",s.team="AEK"):c>f&&(s.type="win",s.team="Real");for(const h of G){const A=h.goalsa||0,d=h.goalsb||0;if(s.type==="win"&&s.team==="AEK"&&A>d)s.count++;else if(s.type==="win"&&s.team==="Real"&&d>A)s.count++;else break}}const x={bothTeamsScore:this.matches.filter(t=>(t.goalsa||0)>0&&(t.goalsb||0)>0).length,oneNilWins:this.matches.filter(t=>t.goalsa===1&&t.goalsb===0||t.goalsa===0&&t.goalsb===1).length,highScoringWins:this.matches.filter(t=>Math.max(t.goalsa||0,t.goalsb||0)>=4).length},p={aekHome:this.matches.filter(t=>t.teama==="AEK").length,aekAway:this.matches.filter(t=>t.teamb==="AEK").length,aekHomeWins:this.matches.filter(t=>t.teama==="AEK"&&(t.goalsa||0)>(t.goalsb||0)).length,aekAwayWins:this.matches.filter(t=>t.teamb==="AEK"&&(t.goalsb||0)>(t.goalsa||0)).length},W={};this.matches.forEach(t=>{t.goalscorers&&typeof t.goalscorers=="string"&&t.goalscorers.split(",").map(c=>c.trim()).filter(c=>c).forEach(c=>{W[c]=(W[c]||0)+1})});const D=Object.entries(W).reduce((t,[f,c])=>c>(t.goals||0)?{player:f,goals:c}:t,{player:"N/A",goals:0});return{avgGoalsPerMatch:l>0?(i/l).toFixed(2):"0.00",totalMatches:l,totalGoals:i,aekTotalGoals:o,realTotalGoals:n,highScoringGames:m,biggestWinMargin:k,currentStreak:s,cleanSheets:{aek:this.matches.filter(t=>t.goalsb===0).length,real:this.matches.filter(t=>t.goalsa===0).length},scoringPatterns:x,homeAwayStats:p,topScorer:D,goalEfficiency:{aekAvg:l>0?(o/l).toFixed(2):"0.00",realAvg:l>0?(n/l).toFixed(2):"0.00"},competitiveness:{closeGames:this.matches.filter(t=>Math.abs((t.goalsa||0)-(t.goalsb||0))<=1).length,blowouts:this.matches.filter(t=>Math.abs((t.goalsa||0)-(t.goalsb||0))>=3).length}}}calculatePerformanceTrends(){const l={};return this.matches.forEach(i=>{const o=new Date(i.date),n=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;l[n]||(l[n]={month:n,aekWins:0,realWins:0,totalGoals:0,matchCount:0});const m=i.goalsa||0,a=i.goalsb||0;l[n].totalGoals+=m+a,l[n].matchCount++,m>a?l[n].aekWins++:a>m&&l[n].realWins++}),l}calculateHeadToHead(){const l={totalMatches:this.matches.length,aekWins:0,realWins:0,aekGoals:0,realGoals:0,biggestAekWin:{diff:0,score:"",date:"",opponent:"Real Madrid"},biggestRealWin:{diff:0,score:"",date:"",opponent:"AEK Athen"}};return this.matches.forEach(i=>{const o=i.goalsa||0,n=i.goalsb||0,m=Math.abs(o-n);l.aekGoals+=o,l.realGoals+=n,o>n?(l.aekWins++,m>l.biggestAekWin.diff&&(l.biggestAekWin={diff:m,score:`${o}:${n}`,date:i.date||"",opponent:"Real Madrid"})):n>o&&(l.realWins++,m>l.biggestRealWin.diff&&(l.biggestRealWin={diff:m,score:`${n}:${o}`,date:i.date||"",opponent:"AEK Athen"}))}),l}}function ae({onNavigate:w,showHints:l=!1}){const[i,o]=O.useState("dashboard"),{data:n,loading:m}=C("matches","*"),{data:a,loading:k}=C("players","*"),{data:G,loading:s}=C("spieler_des_spiels","*"),{data:x,loading:p}=C("bans","*"),W=m||k||s||p,D=new ee(n,a,x,G),t=D.calculateTeamRecords(),f=D.calculateRecentForm(5),c=D.calculatePlayerStats(),h=D.calculateAdvancedStats(),A=D.calculatePerformanceTrends(),d=D.calculateHeadToHead(),N=(n==null?void 0:n.length)||0,R=(a==null?void 0:a.filter(r=>r.team==="AEK"))||[],L=(a==null?void 0:a.filter(r=>r.team==="Real"))||[],F=t.aek.wins,K=t.real.wins,j=r=>r.map((y,M)=>e.jsx("span",{className:`inline-block w-6 h-6 text-xs font-bold rounded-full text-center leading-6 mx-0.5 ${y==="W"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:y},M)),E=r=>`${(r||0).toFixed(1)}M €`,S=[{id:"dashboard",label:"Dashboard",icon:"🎯"},{id:"overview",label:"Übersicht",icon:"📊"},{id:"matchdays",label:"Spieltage",icon:"📅"},{id:"players",label:"Spieler",icon:"👥"},{id:"teams",label:"Teams",icon:"🏆"},{id:"trends",label:"Trends",icon:"📈"}];if(W)return e.jsx(Z,{message:"Lade Statistiken..."});const $=()=>{const r=c.length>0?c[0]:null,y=c.filter(g=>g.sdsCount>0).sort((g,u)=>u.sdsCount-g.sdsCount)[0],M=n==null?void 0:n.reduce((g,u)=>{const T=P=>{if(!P)return[];try{return typeof P=="string"?JSON.parse(P):P}catch{return[]}},z=T(u.goalslista),B=T(u.goalslistb);return[...z,...B].forEach(P=>{const J=typeof P=="object"?P.player:P,_=typeof P=="object"?P.count:1;_>g.count&&(g={player:J,count:_,match:u})}),g},{player:null,count:0,match:null});return e.jsxs("div",{className:"space-y-6 mobile-card-list",children:[e.jsxs("div",{className:"mobile-grid mobile-grid-2 md:grid-cols-4",children:[e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-success",children:e.jsx("span",{className:"text-white",children:"⚽"})}),e.jsx("div",{className:"mobile-metric-value",children:N}),e.jsx("div",{className:"mobile-metric-label",children:"Spiele gespielt"})]}),e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-warning",children:e.jsx("span",{className:"text-white",children:"🎯"})}),e.jsx("div",{className:"mobile-metric-value",children:h.totalGoals}),e.jsx("div",{className:"mobile-metric-label",children:"Tore insgesamt"}),e.jsxs("div",{className:"mobile-metric-sublabel",children:["⌀ ",N>0?(h.totalGoals/N).toFixed(1):"0.0","/Spiel"]})]}),e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-info",children:e.jsx("span",{className:"text-white",children:"🥇"})}),e.jsx("div",{className:"mobile-metric-value text-subhead font-semibold",children:r?r.name.split(" ").slice(-1)[0]:"–"}),e.jsxs("div",{className:"mobile-metric-label",children:["Topscorer (",r?r.goals:0," Tore)"]}),e.jsx("div",{className:"mobile-metric-sublabel",children:r&&r.matchesPlayed>0?`⌀ ${(r.goals/r.matchesPlayed).toFixed(2)}/Spiel`:"⌀ 0.00/Spiel"})]}),e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-warning",children:e.jsx("span",{className:"text-white",children:"⭐"})}),e.jsx("div",{className:"mobile-metric-value text-subhead font-semibold",children:y?y.name.split(" ").slice(-1)[0]:"–"}),e.jsxs("div",{className:"mobile-metric-label",children:["Top SdS (",y?y.sdsCount:0,"x)"]}),e.jsx("div",{className:"mobile-metric-sublabel",children:y&&y.matchesPlayed>0?`${(y.sdsCount/y.matchesPlayed*100).toFixed(1)}% Quote`:"0.0% Quote"})]})]}),e.jsxs("div",{className:"mobile-grid mobile-grid-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"mobile-overview-card team-aek animate-mobile-slide-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-caption1 font-semibold text-system-blue uppercase tracking-wide",children:"🔵 AEK Athen"}),e.jsx("div",{className:"w-8 h-8 bg-system-blue/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-system-blue text-sm font-bold",children:"A"})})]}),e.jsx("div",{className:"text-title1 font-bold text-text-primary mb-2",children:d.biggestAekWin.diff>0?d.biggestAekWin.score:"–"}),e.jsx("div",{className:"text-callout text-text-secondary mb-3",children:"Größter Sieg"}),d.biggestAekWin.diff>0&&e.jsxs("div",{className:"text-footnote text-text-tertiary space-y-1",children:[e.jsxs("div",{children:["vs ",d.biggestAekWin.opponent]}),e.jsx("div",{className:"text-caption1",children:new Date(d.biggestAekWin.date).toLocaleDateString("de-DE")})]})]}),e.jsxs("div",{className:"mobile-overview-card team-real animate-mobile-slide-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-caption1 font-semibold text-system-red uppercase tracking-wide",children:"🔴 Real Madrid"}),e.jsx("div",{className:"w-8 h-8 bg-system-red/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-system-red text-sm font-bold",children:"R"})})]}),e.jsx("div",{className:"text-title1 font-bold text-text-primary mb-2",children:d.biggestRealWin.diff>0?d.biggestRealWin.score:"–"}),e.jsx("div",{className:"text-callout text-text-secondary mb-3",children:"Größter Sieg"}),d.biggestRealWin.diff>0&&e.jsxs("div",{className:"text-footnote text-text-tertiary space-y-1",children:[e.jsxs("div",{children:["vs ",d.biggestRealWin.opponent]}),e.jsx("div",{className:"text-caption1",children:new Date(d.biggestRealWin.date).toLocaleDateString("de-DE")})]})]}),e.jsxs("div",{className:"mobile-overview-card animate-mobile-slide-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-caption1 font-semibold text-system-purple uppercase tracking-wide",children:"⚽ Top Performance"}),e.jsx("div",{className:"w-8 h-8 bg-system-purple/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-system-purple text-sm font-bold",children:"🏆"})})]}),e.jsx("div",{className:"text-title1 font-bold text-text-primary mb-2",children:M!=null&&M.player?M.player.split(" ").slice(-1)[0]:"–"}),e.jsxs("div",{className:"text-callout text-text-secondary mb-3",children:["Meiste Tore (",(M==null?void 0:M.count)||0," in einem Spiel)"]}),(M==null?void 0:M.match)&&e.jsx("div",{className:"text-footnote text-text-tertiary",children:e.jsx("div",{className:"text-caption1",children:new Date(M.match.date).toLocaleDateString("de-DE")})})]})]}),e.jsxs("div",{className:"mobile-overview-card animate-mobile-slide-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-info rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:"📊"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-title3 font-bold text-text-primary",children:"Erweiterte Statistiken"}),e.jsx("p",{className:"text-caption1 text-text-secondary",children:"Detaillierte Analyse der Liga"})]})]}),e.jsxs("div",{className:"mobile-grid mobile-grid-auto gap-4",children:[e.jsxs("div",{className:"mobile-metric-card",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-warning",children:e.jsx("span",{className:"text-white",children:"⏱️"})}),e.jsx("div",{className:"mobile-metric-value text-title2",children:(()=>{const g=(x==null?void 0:x.reduce((T,z)=>{const B=z.totalgames||0;return T+B},0))||0;return`${(x==null?void 0:x.length)>0?(g/x.length).toFixed(1):"0.0"}`})()}),e.jsx("div",{className:"mobile-metric-label",children:"⌀ Sperrenlänge"}),e.jsx("div",{className:"mobile-metric-sublabel",children:"Spiele"})]}),e.jsxs("div",{className:"mobile-metric-card",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-success",children:e.jsx("span",{className:"text-white",children:"🎯"})}),e.jsx("div",{className:"mobile-metric-value text-title2",children:c.filter(g=>g.goals>0).length}),e.jsx("div",{className:"mobile-metric-label",children:"Aktive Torschützen"}),e.jsxs("div",{className:"mobile-metric-sublabel",children:["von ",c.length]})]}),e.jsxs("div",{className:"mobile-metric-card",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-danger",children:e.jsx("span",{className:"text-white",children:"🟥"})}),e.jsx("div",{className:"mobile-metric-value text-title2",children:(x==null?void 0:x.length)||0}),e.jsx("div",{className:"mobile-metric-label",children:"Gesamt Sperren"}),e.jsx("div",{className:"mobile-metric-sublabel",children:"aller Zeiten"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"💡 Besondere Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:(()=>{let g=0,u=0,T=0;return n==null||n.forEach(z=>{const B=z.goalsa||0,P=z.goalsb||0;B>P?(u++,T=0,u>g&&(g=u)):P>B&&(T++,u=0,T>g&&(g=T))}),g})()}),e.jsx("div",{className:"text-sm text-green-700",children:"🔥 Längste Siegesserie"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:(()=>{let g=0,u=0,T=0,z="";return n==null||n.forEach(B=>{const P=B.goalsa||0,J=B.goalsb||0;P>J?(u++,T=0,u>g&&(g=u,z="AEK")):J>P&&(T++,u=0,T>g&&(g=T,z="Real"))}),z||"Keine"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:(()=>{let g=0;return c.forEach(u=>{if(u.matchesPlayed>0){const T=u.goals/u.matchesPlayed;T>g&&(g=T)}}),g.toFixed(2)})()}),e.jsx("div",{className:"text-sm text-yellow-700",children:"⚡ Höchste Effizienz"}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:(()=>{let g=0,u=null;return c.forEach(T=>{if(T.matchesPlayed>0){const z=T.goals/T.matchesPlayed;z>g&&(g=z,u=T.name)}}),u||"Keine Daten"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:(()=>{const g=t.aek.wins,u=t.real.wins;return g+u===0?"100%":`${(Math.min(g,u)/Math.max(g,u)*100).toFixed(0)}%`})()}),e.jsx("div",{className:"text-sm text-blue-700",children:"⚖️ Team-Balance"}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ausgeglichenheit (",t.aek.wins,":",t.real.wins,")"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-ios",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-fifa-blue/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🔵"})}),e.jsx("h3",{className:"text-title3 font-bold text-fifa-blue",children:"AEK Athen"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Siege:"}),e.jsx("span",{className:"text-body font-semibold text-system-green",children:F})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Niederlagen:"}),e.jsx("span",{className:"text-body font-semibold text-system-red",children:t.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Zu Null:"}),e.jsx("span",{className:"text-body font-semibold text-text-primary",children:h.cleanSheets.aek})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-caption1 text-text-secondary mb-2",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:j(f.aek)})]})]})]}),e.jsxs("div",{className:"card-ios",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-fifa-red/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🔴"})}),e.jsx("h3",{className:"text-title3 font-bold text-fifa-red",children:"Real Madrid"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Siege:"}),e.jsx("span",{className:"text-body font-semibold text-system-green",children:K})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Niederlagen:"}),e.jsx("span",{className:"text-body font-semibold text-system-red",children:t.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Zu Null:"}),e.jsx("span",{className:"text-body font-semibold text-text-primary",children:h.cleanSheets.real})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-caption1 text-text-secondary mb-2",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:j(f.real)})]})]})]})]}),e.jsxs("div",{className:"card-ios",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-system-yellow/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🏆"})}),e.jsx("h3",{className:"text-title3 font-bold text-text-primary",children:"Top-Torschützen"})]}),e.jsx("div",{className:"space-y-3",children:c.slice(0,5).map((g,u)=>e.jsx("div",{className:"list-item-ios",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-caption2 font-bold ${u===0?"bg-system-yellow text-white":u===1?"bg-text-quaternary text-white":u===2?"bg-system-orange text-white":"bg-bg-tertiary text-text-secondary"}`,children:u+1}),e.jsxs("div",{children:[e.jsx("div",{className:"text-callout font-medium text-text-primary",children:g.name}),e.jsx("div",{className:"text-caption1 text-text-secondary",children:g.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-callout font-bold text-text-primary",children:[g.goals," Tore"]}),e.jsxs("div",{className:"text-caption1 text-text-secondary",children:[g.goalsPerGame," ⌀"]})]})]})},g.id))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"⭐ Top-Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:c.filter(g=>g.sdsCount>0).sort((g,u)=>u.sdsCount-g.sdsCount).slice(0,5).map((g,u)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${u===0?"bg-yellow-500 text-white":u===1?"bg-gray-400 text-white":u===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:u+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:g.name}),e.jsx("div",{className:"text-sm text-text-muted",children:g.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[g.sdsCount,"x SdS"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[g.matchesPlayed>0?(g.sdsCount/g.matchesPlayed*100).toFixed(1):"0.0","% Quote"]})]})]},g.id))}),c.filter(g=>g.sdsCount>0).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spieler des Spiels Auszeichnungen vergeben"})]})]})},b=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📊 Spielerstatistiken"}),e.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-green",children:c.filter(r=>r.goals>0).length}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Aktive Torschützen"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-blue",children:c.reduce((r,y)=>r+y.goals,0)}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Tore insgesamt"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-orange",children:c.filter(r=>r.sdsCount>0).length}),e.jsx("div",{className:"text-sm text-text-secondary",children:"SdS Träger"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-red",children:c.reduce((r,y)=>r+y.totalBans,0)}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Gesamt Sperren"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-left py-2",children:"Team"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"⌀/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"Spiele"}),e.jsx("th",{className:"text-center py-2",children:"SdS"}),e.jsx("th",{className:"text-center py-2",children:"SdS %"}),e.jsx("th",{className:"text-center py-2",children:"Sperren"}),e.jsx("th",{className:"text-right py-2",children:"Marktwert"})]})}),e.jsx("tbody",{children:c.map(r=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-2 font-medium",children:r.name}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.team==="AEK"?"bg-blue-100 text-blue-800":r.team==="Ehemalige"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:r.team})}),e.jsx("td",{className:"py-2 text-center font-bold",children:r.goals}),e.jsx("td",{className:"py-2 text-center",children:r.goalsPerGame}),e.jsx("td",{className:"py-2 text-center",children:r.matchesPlayed}),e.jsx("td",{className:"py-2 text-center",children:r.sdsCount}),e.jsx("td",{className:"py-2 text-center",children:e.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${parseFloat(r.sdsPercentage)>=50?"bg-green-100 text-green-800":parseFloat(r.sdsPercentage)>=25?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:[r.sdsPercentage,"%"]})}),e.jsx("td",{className:"py-2 text-center",children:e.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${r.totalBans===0?"bg-green-100 text-green-800":r.totalBans<=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.totalBans})}),e.jsx("td",{className:"py-2 text-right",children:E(r.value)})]},r.id))})]})}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"🏆 Effizienz-Spitze"}),(()=>{const r=c.filter(y=>y.matchesPlayed>=3).sort((y,M)=>M.goalsPerMatchWhenPlaying-y.goalsPerMatchWhenPlaying)[0];return r?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-700",children:r.name}),e.jsxs("div",{className:"text-sm text-green-600",children:[r.goalsPerGame," Tore/Spiel (",r.goals," Tore in ",r.matchesPlayed," Spielen)"]})]}):e.jsx("div",{className:"text-gray-500",children:"Nicht genügend Daten"})})()]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⭐ SdS-König"}),(()=>{const r=c.filter(y=>y.sdsCount>0).sort((y,M)=>parseFloat(M.sdsPercentage)-parseFloat(y.sdsPercentage))[0];return r?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-yellow-700",children:r.name}),e.jsxs("div",{className:"text-sm text-yellow-600",children:[r.sdsPercentage,"% Quote (",r.sdsCount,"x SdS)"]})]}):e.jsx("div",{className:"text-gray-500",children:"Noch keine SdS vergeben"})})()]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"🚫 Disziplin-Problem"}),(()=>{const r=c.filter(y=>y.totalBans>0).sort((y,M)=>M.totalBans-y.totalBans)[0];return r?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-700",children:r.name}),e.jsxs("div",{className:"text-sm text-red-600",children:[r.totalBans," Sperren (Score: ",r.disciplinaryScore,")"]})]}):e.jsx("div",{className:"text-gray-500",children:"Keine Sperren verzeichnet"})})()]})]})]}),v=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"⚖️ Team-Vergleich"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:R.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:F})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:t.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:h.cleanSheets.aek})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:L.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:K})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:t.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:h.cleanSheets.real})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📈 Erweiterte Statistiken"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Diese Statistiken bieten tiefere Einblicke in die Team-Performance und wichtige Kennzahlen."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:h.highScoringGames}),e.jsx("div",{className:"text-sm text-text-muted",children:"Torspektakel"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Spiele mit 5+ Toren"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:h.biggestWinMargin}),e.jsx("div",{className:"text-sm text-text-muted",children:"Größter Sieg"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Höchste Tordifferenz"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:h.avgGoalsPerMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"⌀ Tore pro Spiel"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Durchschnittswert"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.currentStreak.count>0?`${h.currentStreak.count}`:"0"}),e.jsx("div",{className:"text-sm text-text-muted",children:"Siegesserie"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:h.currentStreak.count>0?h.currentStreak.team:"Keine aktuelle Serie"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"🏠 Home/Away Analyse"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Heimspiele:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekHome})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Heimsiege:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekHomeWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Auswärtssiege:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekAwayWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Heimstärke AEK:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekHome>0?`${(h.homeAwayStats.aekHomeWins/h.homeAwayStats.aekHome*100).toFixed(0)}%`:"0%"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-green-600",children:"⚽ Torstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Beide Teams treffen:"}),e.jsx("span",{className:"font-medium",children:h.scoringPatterns.bothTeamsScore})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"1:0 Siege:"}),e.jsx("span",{className:"font-medium",children:h.scoringPatterns.oneNilWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"4+ Tore Siege:"}),e.jsx("span",{className:"font-medium",children:h.scoringPatterns.highScoringWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top-Torschütze:"}),e.jsxs("span",{className:"font-medium",children:[h.topScorer.player," (",h.topScorer.goals,")"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"🎯 Spielqualität"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Enge Spiele (≤1 Tor):"}),e.jsx("span",{className:"font-medium",children:h.competitiveness.closeGames})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Deutliche Siege (≥3 Tore):"}),e.jsx("span",{className:"font-medium",children:h.competitiveness.blowouts})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Tor-Schnitt:"}),e.jsx("span",{className:"font-medium",children:h.goalEfficiency.aekAvg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Tor-Schnitt:"}),e.jsx("span",{className:"font-medium",children:h.goalEfficiency.realAvg})]})]})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"🎯 Offensive Highlights"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Team:"}),e.jsxs("span",{className:"font-medium",children:[h.aekTotalGoals>=h.realTotalGoals?"AEK Athen":"Real Madrid","(",Math.max(h.aekTotalGoals,h.realTotalGoals)," Tore)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Höchste Einzelspiel-Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[h.highestScoringMatch," Tore"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivster Torschütze:"}),e.jsx("span",{className:"font-medium",children:c.length>0?`${c[0].name} (${c[0].goals} Tore)`:"Keine Daten"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"⚖️ Team-Balance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kader-Unterschied:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(R.length-L.length)," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert-Verhältnis:"}),e.jsx("span",{className:"font-medium",children:R.reduce((r,y)=>r+(y.value||0),0)>L.reduce((r,y)=>r+(y.value||0),0)?"AEK führt":"Real führt"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dominanteres Team:"}),e.jsx("span",{className:"font-medium",children:F>K?"AEK Athen":K>F?"Real Madrid":"Ausgeglichen"})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"⚔️ Head-to-Head Bilanz"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Direkter Vergleich zwischen AEK Athen und Real Madrid über alle Spiele."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.aekWins}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:d.totalMatches>0?`${(d.aekWins/d.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.realWins}),e.jsx("div",{className:"text-sm text-red-700",children:"Real Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:d.totalMatches>0?`${(d.realWins/d.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.aekGoals+d.realGoals}),e.jsx("div",{className:"text-sm text-green-700",children:"Tore gesamt"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:d.totalMatches>0?`⌀ ${((d.aekGoals+d.realGoals)/d.totalMatches).toFixed(1)} pro Spiel`:"⌀ 0 pro Spiel"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"🔵 Größter AEK Sieg"}),d.biggestAekWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:d.biggestAekWin.score}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Unterschied: ",d.biggestAekWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(d.biggestAekWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"🔴 Größter Real Sieg"}),d.biggestRealWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:d.biggestRealWin.score}),e.jsxs("div",{className:"text-sm text-red-700",children:["Unterschied: ",d.biggestRealWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(d.biggestRealWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"🔬 Detailanalyse"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Erweiterte Metriken für eine tiefgreifende Team-Analyse."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"🎲 Spielstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spiele gespielt:"}),e.jsx("span",{className:"font-medium",children:N})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Längste Serie:"}),e.jsxs("span",{className:"font-medium",children:[F>=K?"AEK":"Real"," (",Math.max(F,K)," Siege)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Spiel:"}),e.jsxs("span",{className:"font-medium",children:[h.highestScoringMatch," Tore"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"🏆 Leistungs-Metriken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:R.length+L.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torschützen:"}),e.jsxs("span",{className:"font-medium",children:[c.filter(r=>r.goals>0).length," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Erfolgsquote AEK:"}),e.jsx("span",{className:"font-medium",children:N>0?`${(F/N*100).toFixed(0)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Erfolgsquote Real:"}),e.jsx("span",{className:"font-medium",children:N>0?`${(K/N*100).toFixed(0)}%`:"0%"})]})]})]})]})]})]}),H=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📈 Performance-Trends"}),e.jsx("div",{className:"space-y-4",children:Object.values(A).reverse().map(r=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border-light last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:r.month}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["AEK: ",r.aekWins]}),e.jsx("span",{className:"mx-2",children:"vs"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["Real: ",r.realWins]})]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[r.matchCount," Spiele, ",r.totalGoals," Tore"]}),e.jsxs("div",{className:"text-sm font-medium",children:["⌀ ",(r.totalGoals/r.matchCount).toFixed(1)," Tore/Spiel"]})]})]},r.month))})]}),q=()=>{switch(i){case"dashboard":return e.jsx(Y,{onNavigate:w});case"matchdays":return e.jsx(X,{matches:n});case"players":return b();case"teams":return v();case"trends":return H();default:return $()}};return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6 animate-mobile-slide-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-info rounded-ios-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"📊"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-title1 font-bold text-text-primary",children:"Statistiken"}),e.jsx("p",{className:"text-footnote text-text-secondary",children:"Umfassende Liga-Analyse"})]})]}),e.jsx("div",{className:"w-full h-1 bg-bg-tertiary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-info w-3/4 rounded-full animate-pulse-gentle"})})]}),e.jsx(Q,{views:S,selectedView:i,onViewChange:o}),e.jsx("div",{className:"form-container animate-mobile-slide-in",children:q()})]})}export{ae as default};
