import{r as H,u as z,j as e,L as U}from"./main-BWhWdCV_.js";import{H as I}from"./HorizontalNavigation-rHTfUKtn.js";function Y({limit:p=10,showTitle:a=!0,onNavigate:l}){const[n,r]=H.useState("all"),{data:m,loading:i}=z("matches","*",{order:{column:"date",ascending:!1}}),{data:u,loading:A}=z("players","*"),{data:s,loading:x}=z("bans","*",{order:{column:"id",ascending:!1}}),{data:f,loading:R}=z("transactions","*",{order:{column:"date",ascending:!1}}),E=i||A||x||R,t=H.useMemo(()=>{if(!m||!u||!s||!f)return[];const d=[];m==null||m.slice(0,5).forEach(o=>{const S=new Date(o.date);d.push({id:`match-${o.id}`,type:"match",icon:"⚽",title:`AEK ${o.goalsa||0} - ${o.goalsb||0} Real`,description:o.sds?`⭐ SdS: ${o.sds}`:"Spiel gespielt",date:S,dateText:q(S),action:()=>l==null?void 0:l("matches",{highlightMatch:o.id})})}),s==null||s.slice(0,3).forEach(o=>{const S=u.find(L=>L.id===o.player_id),D=(S==null?void 0:S.name)||o.player_name||"Unbekannt",C=(o.totalgames||0)-(o.matchesserved||0);d.push({id:`ban-${o.id}`,type:"ban",icon:"🚫",title:`Sperre: ${D}`,description:`${o.type} • ${C>0?`${C} Spiele verbleibend`:"Abgelaufen"}`,date:new Date,dateText:"Kürzlich",action:()=>l==null?void 0:l("bans",{highlightBan:o.id})})}),f==null||f.slice(0,5).forEach(o=>{const S=new Date(o.date),D=o.amount||0;d.push({id:`transaction-${o.id}`,type:"transaction",icon:D>0?"💰":"💸",title:`${D>0?"+":""}${D}€`,description:o.description||o.type||"Transaktion",date:S,dateText:q(S),action:()=>l==null?void 0:l("finanzen",{highlightTransaction:o.id})})});const h=d.sort((o,S)=>S.date-o.date);return(n==="all"?h:h.filter(o=>o.type===n)).slice(0,p)},[m,u,s,f,n,p,l]),g=H.useMemo(()=>{if(!m||!s||!f)return{};const d=new Date,h=new Date(d.getTime()-7*24*60*60*1e3);return{matches:m.filter(w=>new Date(w.date)>=h).length,bans:s.filter(w=>(w.totalgames||0)-(w.matchesserved||0)>0).length,transactions:f.filter(w=>new Date(w.date)>=h).length}},[m,s,f]);return E?e.jsx(U,{message:"Lade Aktivitäten..."}):e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[a&&e.jsxs("div",{className:"p-4 border-b border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Letzte Aktivitäten"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded border border-blue-200",children:[g.matches||0," Spiele (7T)"]}),e.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded border border-red-200",children:[g.bans||0," aktive Sperren"]}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded border border-green-200",children:[g.transactions||0," Transaktionen (7T)"]})]})})]}),e.jsx("div",{className:"flex gap-2 mt-3",children:[{key:"all",label:"Alle",count:t.length},{key:"match",label:"Spiele",count:t.filter(d=>d.type==="match").length},{key:"transaction",label:"Finanzen",count:t.filter(d=>d.type==="transaction").length},{key:"ban",label:"Sperren",count:t.filter(d=>d.type==="ban").length}].map(({key:d,label:h,count:w})=>e.jsxs("button",{onClick:()=>r(d),className:`px-3 py-1.5 rounded-lg text-sm transition-all duration-200 ${n===d?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:[h," ",w>0&&`(${w})`]},d))})]}),e.jsx("div",{className:"divide-y divide-border-light",children:t.length===0?e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"📊"}),e.jsx("p",{children:"Keine Aktivitäten gefunden"}),e.jsx("p",{className:"text-sm mt-1",children:n==="all"?"Beginne Daten hinzuzufügen":`Keine ${n==="match"?"Spiele":n==="transaction"?"Transaktionen":"Sperren"} gefunden`})]}):t.map(d=>e.jsx("button",{onClick:d.action,className:"w-full p-4 text-left hover:bg-bg-secondary transition-colors duration-200 focus:outline-none focus:bg-bg-secondary",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:d.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-text-primary truncate",children:d.title}),e.jsx("span",{className:"text-xs text-text-secondary whitespace-nowrap ml-2",children:d.dateText})]}),e.jsx("p",{className:"text-sm text-text-secondary truncate",children:d.description})]})]})},d.id))}),t.length>0&&a&&e.jsx("div",{className:"p-3 border-t border-border-light bg-bg-secondary",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:()=>l==null?void 0:l("stats"),className:"text-sm text-primary-green hover:text-primary-green-dark transition-colors duration-200",children:"Alle Statistiken anzeigen →"})})})]})}function q(p){const l=Math.floor((new Date-p)/(1e3*60)),n=Math.floor(l/60),r=Math.floor(n/24);return l<1?"Gerade eben":l<60?`vor ${l}m`:n<24?`vor ${n}h`:r<7?`vor ${r}d`:r<30?`vor ${Math.floor(r/7)}w`:p.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}function X({onNavigate:p}){const[a,l]=H.useState("all"),{data:n,loading:r}=z("matches","*",{order:{column:"date",ascending:!1}}),{data:m,loading:i}=z("players","*"),{data:u,loading:A}=z("bans","*"),{data:s,loading:x}=z("transactions","*",{order:{column:"date",ascending:!1}}),{data:f,loading:R}=z("finances","*"),E=r||i||A||x||R,t=H.useMemo(()=>{if(!n||!m||!u||!s||!f)return null;const g=new Date,d={week:new Date(g.getTime()-7*24*60*60*1e3),month:new Date(g.getTime()-30*24*60*60*1e3),all:new Date(0)},h=d[a]||d.all,w=n.filter(j=>new Date(j.date)>=h),o=s.filter(j=>new Date(j.date)>=h),S={AEK:{wins:0,losses:0,goals:0,goalsAgainst:0},Real:{wins:0,losses:0,goals:0,goalsAgainst:0}};w.forEach(j=>{const k=j.goalsa||0,B=j.goalsb||0;S.AEK.goals+=k,S.AEK.goalsAgainst+=B,S.Real.goals+=B,S.Real.goalsAgainst+=k,k>B?(S.AEK.wins++,S.Real.losses++):B>k&&(S.Real.wins++,S.AEK.losses++)});const D={};m.forEach(j=>{D[j.id]={name:j.name,team:j.team,goals:0,matches:0,value:j.value||0}}),w.forEach(j=>{["goalscorer1a","goalscorer2a","goalscorer3a","goalscorer4a","goalscorer5a"].forEach(k=>{j[k]&&D[j[k]]&&(D[j[k]].goals++,D[j[k]].matches++)}),["goalscorer1b","goalscorer2b","goalscorer3b","goalscorer4b","goalscorer5b"].forEach(k=>{j[k]&&D[j[k]]&&(D[j[k]].goals++,D[j[k]].matches++)})});const C=f.find(j=>j.team==="AEK")||{balance:0},L=f.find(j=>j.team==="Real")||{balance:0},W=o.filter(j=>j.amount>0).reduce((j,k)=>j+k.amount,0),v=o.filter(j=>j.amount<0).reduce((j,k)=>j+Math.abs(k.amount),0),M=u.filter(j=>(j.totalgames||0)-(j.matchesserved||0)>0),T={AEK:M.filter(j=>{const k=m.find(B=>B.id===j.player_id);return(k==null?void 0:k.team)==="AEK"}).length,Real:M.filter(j=>{const k=m.find(B=>B.id===j.player_id);return(k==null?void 0:k.team)==="Real"}).length},$=Object.values(D).filter(j=>j.goals>0).sort((j,k)=>k.goals-j.goals).slice(0,5);return{teamRecords:S,playerStats:$,finances:{aek:C.balance||0,real:L.balance||0,income:W,expenses:v,net:W-v},bans:{active:M.length,aek:T.AEK,real:T.Real},totals:{matches:w.length,players:m.length,transactions:o.length}}},[n,m,u,s,f,a]);return E?e.jsx(U,{message:"Lade Dashboard..."}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:"Dashboard"}),e.jsx("div",{className:"flex gap-2",children:[{key:"week",label:"Woche"},{key:"month",label:"Monat"},{key:"all",label:"Gesamt"}].map(({key:g,label:d})=>e.jsx("button",{onClick:()=>l(g),className:`px-3 py-2 rounded-lg text-sm transition-all duration-200 ${a===g?"bg-primary-green text-white":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary"}`,children:d},g))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(J,{icon:"⚽",title:"Spiele",value:t.totals.matches,subtitle:a==="all"?"Gesamt":"Im Zeitraum",color:"blue",onClick:()=>p==null?void 0:p("matches")}),e.jsx(J,{icon:"👥",title:"Spieler",value:t.totals.players,subtitle:"Aktive Spieler",color:"green",onClick:()=>p==null?void 0:p("squad")}),e.jsx(J,{icon:"⚽",title:"Tore",value:t.teamRecords.AEK.goals+t.teamRecords.Real.goals,subtitle:a==="all"?"Gesamt":"Im Zeitraum",color:"green",onClick:()=>p==null?void 0:p("matches")}),e.jsx(J,{icon:"🚫",title:"Sperren",value:t.bans.active,subtitle:"Aktive Sperren",color:"red",onClick:()=>p==null?void 0:p("bans")})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Team-Vergleich"})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"🔵"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900",children:"AEK"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[t.teamRecords.AEK.wins,"S / ",t.teamRecords.AEK.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-blue-900",children:[t.teamRecords.AEK.goals,":",t.teamRecords.AEK.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[t.bans.aek," Sperren"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:"🔴"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-red-900",children:"Real"}),e.jsxs("div",{className:"text-sm text-red-700",children:[t.teamRecords.Real.wins,"S / ",t.teamRecords.Real.losses,"N"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-red-900",children:[t.teamRecords.Real.goals,":",t.teamRecords.Real.goalsAgainst]}),e.jsxs("div",{className:"text-sm text-red-700",children:[t.bans.real," Sperren"]})]})]})]})})]}),e.jsxs("div",{className:"bg-bg-primary border border-border-light rounded-lg shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-border-light",children:e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Top Torschützen"})}),e.jsx("div",{className:"p-4",children:t.playerStats.length===0?e.jsxs("div",{className:"text-center text-text-secondary py-4",children:[e.jsx("div",{className:"text-2xl mb-2","aria-hidden":"true",children:"⚽"}),e.jsx("p",{children:"Keine Tore im Zeitraum"})]}):e.jsx("div",{className:"space-y-3",children:t.playerStats.map((g,d)=>{var h;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-primary-green text-white text-xs flex items-center justify-center font-bold",children:d+1}),e.jsx("span",{className:g.team==="AEK"?"text-blue-600":"text-red-600",children:g.team==="AEK"?"🔵":"🔴"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-text-primary",children:g.name}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[(h=g.value)==null?void 0:h.toFixed(1),"M €"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-text-primary",children:[g.goals," Tore"]}),e.jsxs("div",{className:"text-sm text-text-secondary",children:[g.matches," Spiele"]})]})]},g.name)})})})]})]}),e.jsx(Y,{onNavigate:p,limit:5})]}):e.jsxs("div",{className:"p-6 text-center text-text-secondary",children:[e.jsx("div",{className:"text-4xl mb-2","aria-hidden":"true",children:"📊"}),e.jsx("p",{children:"Keine Daten verfügbar"})]})}function J({icon:p,title:a,value:l,subtitle:n,color:r="gray",onClick:m}){const i={blue:"bg-blue-50 border-blue-200 text-blue-900",green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900",gray:"bg-gray-50 border-gray-200 text-gray-900"};return e.jsx("button",{onClick:m,className:`p-4 rounded-lg border transition-all duration-200 hover:shadow-md ${i[r]} ${m?"hover:scale-105 cursor-pointer":"cursor-default"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:p}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-2xl font-bold",children:l}),e.jsx("div",{className:"text-sm opacity-75",children:a}),e.jsx("div",{className:"text-xs opacity-60",children:n})]})]})})}function ee({matches:p}){const[a,l]=H.useState(null),n=H.useMemo(()=>p?p.reduce((s,x)=>{const f=x.date;return s[f]||(s[f]=[]),s[f].push(x),s},{}):{},[p]),r=H.useMemo(()=>Object.keys(n).sort((s,x)=>new Date(x)-new Date(s)),[n]),m=s=>{if(!s||s.length===0)return null;const x=s.reduce((v,M)=>v+(M.goalsa||0)+(M.goalsb||0),0),f=s.length,R=f>0?(x/f).toFixed(1):"0.0",E=s.reduce((v,M)=>{const T=(M.goalsa||0)+(M.goalsb||0),$=(v.goalsa||0)+(v.goalsb||0);return T>$?M:v},s[0]);let t=0,g=0,d=0,h=0;s.forEach(v=>{const M=v.goalsa||0,T=v.goalsb||0;d+=M,h+=T,M>T?t++:T>M&&g++});const w={};s.forEach(v=>{v.goalslista&&(typeof v.goalslista=="string"?JSON.parse(v.goalslista):v.goalslista).forEach(T=>{const $=typeof T=="string"?T:T.player,j=typeof T=="string"?1:T.count||1;w[$]=(w[$]||0)+j}),v.goalslistb&&(typeof v.goalslistb=="string"?JSON.parse(v.goalslistb):v.goalslistb).forEach(T=>{const $=typeof T=="string"?T:T.player,j=typeof T=="string"?1:T.count||1;w[$]=(w[$]||0)+j})});const o=Object.entries(w).reduce((v,[M,T])=>T>(v.goals||0)?{player:M,goals:T}:v,{player:null,goals:0}),S=s.map(v=>Math.abs((v.goalsa||0)-(v.goalsb||0))),D=S.length>0?(S.reduce((v,M)=>v+M,0)/S.length).toFixed(1):"0.0",C=S.filter(v=>v<=1).length,L=S.filter(v=>v>=3).length,W=[];return s.forEach(v=>{Object.entries(w).forEach(([T,$])=>{$>=3&&W.push({type:"hat-trick",player:T,goals:$,description:`${T} erzielte ${$} Tore`})}),(v.goalsa||0)===0&&W.push({type:"clean-sheet",team:"Real",description:"Real hielt die Null"}),(v.goalsb||0)===0&&W.push({type:"clean-sheet",team:"AEK",description:"AEK hielt die Null"});const M=(v.goalsa||0)+(v.goalsb||0);M>=6&&W.push({type:"high-scoring",goals:M,description:`Torspektakel mit ${M} Toren`})}),{totalMatches:f,totalGoals:x,avgGoalsPerMatch:R,aekWins:t,realWins:g,aekGoals:d,realGoals:h,topScorer:o,highestScoringMatch:E,avgMargin:D,closeGames:C,blowouts:L,specialEvents:W,playerGoals:w}},i=a?m(n[a]):null,u=s=>new Date(s).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),A=s=>new Date(s).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:"📅"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-title3 font-bold text-text-primary",children:"Spieltag-Übersicht"}),e.jsx("p",{className:"text-caption1 text-text-secondary",children:"Detaillierte Analyse pro Spieltag mit interessanten Statistiken"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:["Spieltag auswählen (",r.length," verfügbar)"]}),e.jsxs("select",{value:a||"",onChange:s=>l(s.target.value||null),className:"form-input w-full max-w-md",children:[e.jsx("option",{value:"",children:"-- Spieltag wählen --"}),r.map(s=>e.jsxs("option",{value:s,children:[u(s)," (",n[s].length," Spiel",n[s].length!==1?"e":"",")"]},s))]})]}),!a&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.slice(0,6).map(s=>{const x=m(n[s]);return e.jsxs("div",{onClick:()=>l(s),className:"p-4 bg-bg-secondary rounded-lg border border-border-light hover:border-primary-blue cursor-pointer transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"text-sm font-medium text-text-primary mb-2",children:A(s)}),e.jsxs("div",{className:"text-xs text-text-secondary mb-2",children:[x.totalMatches," Spiel",x.totalMatches!==1?"e":""]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tore:"}),e.jsx("span",{className:"font-medium",children:x.totalGoals})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"⌀ pro Spiel:"}),e.jsx("span",{className:"font-medium",children:x.avgGoalsPerMatch})]}),x.topScorer.player&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top:"}),e.jsxs("span",{className:"font-medium text-primary-green",children:[x.topScorer.player.split(" ").slice(-1)[0]," (",x.topScorer.goals,")"]})]})]})]},s)})})]}),a&&i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-text-primary",children:u(a)}),e.jsxs("p",{className:"text-text-secondary",children:[i.totalMatches," Spiel",i.totalMatches!==1?"e":""," an diesem Tag"]})]}),e.jsx("button",{onClick:()=>l(null),className:"text-text-muted hover:text-text-primary",children:"✕"})]}),i.specialEvents.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-2",children:"🌟 Besondere Ereignisse"}),e.jsx("div",{className:"space-y-2",children:i.specialEvents.map((s,x)=>e.jsx("div",{className:`p-2 rounded-lg text-sm ${s.type==="hat-trick"?"bg-yellow-50 text-yellow-800 border border-yellow-200":s.type==="clean-sheet"?"bg-green-50 text-green-800 border border-green-200":s.type==="high-scoring"?"bg-red-50 text-red-800 border border-red-200":"bg-blue-50 text-blue-800 border border-blue-200"}`,children:s.description},x))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-text-primary",children:i.totalGoals}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Tore insgesamt"}),e.jsxs("div",{className:"text-xs text-text-muted",children:["⌀ ",i.avgGoalsPerMatch," pro Spiel"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-blue",children:i.aekWins}),e.jsx("div",{className:"text-sm text-text-secondary",children:"AEK Siege"}),e.jsxs("div",{className:"text-xs text-text-muted",children:[i.aekGoals," Tore erzielt"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-red",children:i.realWins}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Real Siege"}),e.jsxs("div",{className:"text-xs text-text-muted",children:[i.realGoals," Tore erzielt"]})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:i.topScorer.player?i.topScorer.goals:"0"}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Meiste Tore"}),e.jsx("div",{className:"text-xs text-text-muted",children:i.topScorer.player?i.topScorer.player.split(" ").slice(-1)[0]:"Kein Torschütze"})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"⚽ Spiele im Detail"}),e.jsx("div",{className:"space-y-4",children:n[a].map(s=>e.jsxs("div",{className:"p-4 bg-bg-secondary rounded-lg border border-border-light",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-500 text-white rounded text-xs flex items-center justify-center font-bold",children:"A"}),e.jsx("span",{className:"font-medium",children:"AEK"})]}),e.jsxs("div",{className:"text-xl font-bold",children:[s.goalsa||0," : ",s.goalsb||0]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Real"}),e.jsx("span",{className:"w-6 h-6 bg-red-500 text-white rounded text-xs flex items-center justify-center font-bold",children:"R"})]})]}),e.jsx("div",{className:"text-sm text-text-muted",children:(()=>{const x=(s.goalsa||0)+(s.goalsb||0),f=Math.abs((s.goalsa||0)-(s.goalsb||0));return x===0?"Torlos":x>=6?"Torspektakel":f===0?"Unentschieden":f>=3?"Deutlicher Sieg":f===1?"Knapper Sieg":"Normales Spiel"})()})]}),(s.goalslista||s.goalslistb)&&e.jsxs("div",{className:"space-y-2",children:[s.goalslista&&JSON.parse(s.goalslista).length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-primary-blue font-medium",children:"AEK Torschützen: "}),JSON.parse(s.goalslista).map((x,f)=>{const R=typeof x=="string"?x:x.player,E=typeof x=="string"?1:x.count||1;return e.jsxs("span",{className:"mr-2",children:[R," ",E>1?`(${E})`:""]},f)})]}),s.goalslistb&&JSON.parse(s.goalslistb).length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-primary-red font-medium",children:"Real Torschützen: "}),JSON.parse(s.goalslistb).map((x,f)=>{const R=typeof x=="string"?x:x.player,E=typeof x=="string"?1:x.count||1;return e.jsxs("span",{className:"mr-2",children:[R," ",E>1?`(${E})`:""]},f)})]})]}),s.manofthematch&&e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"text-yellow-600 font-medium",children:"⭐ Spieler des Spiels: "}),e.jsx("span",{children:s.manofthematch})]})]},s.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"📊 Spielanalyse"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Durchschnittliche Tordifferenz:"}),e.jsx("span",{className:"font-medium",children:i.avgMargin})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Enge Spiele (≤1 Tor):"}),e.jsx("span",{className:"font-medium",children:i.closeGames})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Deutliche Siege (≥3 Tore):"}),e.jsx("span",{className:"font-medium",children:i.blowouts})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-text-secondary",children:"Höchste Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[(i.highestScoringMatch.goalsa||0)+(i.highestScoringMatch.goalsb||0)," Tore"]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h4",{className:"font-semibold text-text-primary mb-4",children:"👤 Top-Torschützen des Tages"}),e.jsxs("div",{className:"space-y-2",children:[Object.entries(i.playerGoals).sort(([,s],[,x])=>x-s).slice(0,5).map(([s,x],f)=>e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${f===0?"bg-yellow-500 text-white":f===1?"bg-gray-400 text-white":f===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:f+1}),e.jsx("span",{className:"font-medium",children:s})]}),e.jsxs("span",{className:"font-bold text-primary-green",children:[x," Tor",x!==1?"e":""]})]},s)),Object.keys(i.playerGoals).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Keine Torschützen an diesem Tag"})]})]})]})]})]})}function se(){const{data:p}=z("matches","*"),[a,l]=H.useState({totalMatches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,winRate:0,loading:!0}),n=()=>{if(!p||p.length===0){l({totalMatches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,winRate:0,loading:!1});return}const i=p.length,u=p.filter(t=>(t.goalsa||0)>(t.goalsb||0)).length,A=p.filter(t=>(t.goalsb||0)>(t.goalsa||0)).length,s=p.filter(t=>(t.goalsa||0)===(t.goalsb||0)).length,x=p.reduce((t,g)=>t+(g.goalsa||0),0),f=p.reduce((t,g)=>t+(g.goalsb||0),0),R=p.reduce((t,g)=>t+(g.goalsa||0)+(g.goalsb||0),0),E=i>0?Math.round(u/i*100):0;l({totalMatches:i,wins:u,draws:s,losses:A,goalsFor:x,goalsAgainst:f,totalGoals:R,winRate:E,loading:!1})};if(H.useEffect(()=>{n()},[p]),a.loading)return e.jsxs("div",{className:"modern-card p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-bg-tertiary rounded mb-3"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("div",{className:"h-12 bg-bg-tertiary rounded"}),e.jsx("div",{className:"h-12 bg-bg-tertiary rounded"}),e.jsx("div",{className:"h-12 bg-bg-tertiary rounded"}),e.jsx("div",{className:"h-12 bg-bg-tertiary rounded"})]})]});const m=!p||p.length===0?[]:p.slice(-5).map(u=>{const A=u.goalsa||0,s=u.goalsb||0;return A>s?"W":s>A?"L":"D"});return e.jsxs("div",{className:"modern-card p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-text-primary",children:"📊 Liga-Statistiken"}),e.jsx("span",{className:"text-xs text-text-muted bg-bg-tertiary px-2 py-1 rounded-full",children:"Gesamt"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-text-primary",children:a.totalMatches}),e.jsx("div",{className:"text-xs text-text-secondary",children:"Spiele"})]}),e.jsxs("div",{className:"text-center p-3 bg-system-green/10 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-system-green",children:[a.winRate,"%"]}),e.jsx("div",{className:"text-xs text-text-secondary",children:"AEK Siege"})]}),e.jsxs("div",{className:"text-center p-3 bg-system-blue/10 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-system-blue",children:a.totalGoals||a.goalsFor+a.goalsAgainst}),e.jsx("div",{className:"text-xs text-text-secondary",children:"Gesamt Tore"})]}),e.jsxs("div",{className:"text-center p-3 bg-system-orange/10 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-system-orange",children:[a.goalsFor-a.goalsAgainst>=0?"+":"",a.goalsFor-a.goalsAgainst]}),e.jsx("div",{className:"text-xs text-text-secondary",children:"AEK Differenz"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-text-secondary",children:"AEK Siege:"}),e.jsx("span",{className:"text-system-green font-medium",children:a.wins})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-text-secondary",children:"Unentschieden:"}),e.jsx("span",{className:"text-system-orange font-medium",children:a.draws})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-text-secondary",children:"Real Siege:"}),e.jsx("span",{className:"text-system-red font-medium",children:a.losses})]})]}),m.length>0&&e.jsxs("div",{className:"mt-4 pt-3 border-t border-border-light",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-xs text-text-secondary",children:"Form:"}),e.jsx("div",{className:"flex gap-1",children:m.map((i,u)=>e.jsx("div",{className:`w-4 h-4 rounded-full text-xs flex items-center justify-center font-bold ${i==="W"?"bg-system-green text-white":i==="D"?"bg-system-orange text-white":"bg-system-red text-white"}`,children:i},u))})]}),e.jsxs("div",{className:"text-xs text-text-muted",children:["Letzte ",m.length," Spiele (neueste zuerst)"]})]})]})}class te{constructor(a,l,n,r){this.matches=a||[],this.players=l||[],this.bans=n||[],this.spielerDesSpiels=r||[],this.aekPlayers=(l||[]).filter(m=>m.team==="AEK"),this.realPlayers=(l||[]).filter(m=>m.team==="Real")}calculateTeamRecords(){const a={wins:0,losses:0},l={wins:0,losses:0};return this.matches.forEach(n=>{const r=n.goalsa||0,m=n.goalsb||0;r>m?(a.wins++,l.losses++):m>r&&(l.wins++,a.losses++)}),{aek:a,real:l}}calculateRecentForm(a=5){const l=this.matches.slice(-a),n=[],r=[];return l.forEach(m=>{const i=m.goalsa||0,u=m.goalsb||0;i>u?(n.push("W"),r.push("L")):u>i&&(n.push("L"),r.push("W"))}),{aek:n,real:r}}calculatePlayerStats(){const a=this.matches.length;return this.players.map(l=>{const n=this.countPlayerMatches(l.name,l.team),r=this.bans.filter(x=>x.player_id===l.id),m=this.spielerDesSpiels.find(x=>x.name===l.name&&x.team===l.team),i=m&&m.count||0,u=this.countPlayerGoalsFromMatches(l.name,l.team),A=l.goals||0,s=Math.max(A,u);return{...l,goals:s,matchesPlayed:n,totalMatches:a,sdsCount:i,goalsPerGame:n>0?(s/n).toFixed(2):"0.00",totalBans:r.length,disciplinaryScore:this.calculateDisciplinaryScore(r),goalsPerMatchWhenPlaying:n>0?s/n:0,sdsPercentage:a>0?(i/a*100).toFixed(1):"0.0"}}).sort((l,n)=>(n.goals||0)-(l.goals||0))}countPlayerGoalsFromMatches(a,l){let n=0;return this.matches.forEach(r=>{if(l==="AEK"&&r.goalslista)try{(Array.isArray(r.goalslista)?r.goalslista:typeof r.goalslista=="string"?JSON.parse(r.goalslista):[]).forEach(i=>{const u=typeof i=="string"?i:i.player,A=typeof i=="string"?1:i.count||1;u===a&&(n+=A)})}catch(m){console.warn("Error parsing AEK goals list:",m)}if(l==="Real"&&r.goalslistb)try{(Array.isArray(r.goalslistb)?r.goalslistb:typeof r.goalslistb=="string"?JSON.parse(r.goalslistb):[]).forEach(i=>{const u=typeof i=="string"?i:i.player,A=typeof i=="string"?1:i.count||1;u===a&&(n+=A)})}catch(m){console.warn("Error parsing Real goals list:",m)}}),n}countPlayerMatches(a,l){if(!a||!l)return this.matches.length;let n=0,r=0;this.matches.forEach(i=>{if(l==="AEK"&&i.goalslista)try{(Array.isArray(i.goalslista)?i.goalslista:typeof i.goalslista=="string"?JSON.parse(i.goalslista):[]).some(s=>(typeof s=="string"?s:s.player)===a)&&n++}catch{}if(l==="Real"&&i.goalslistb)try{(Array.isArray(i.goalslistb)?i.goalslistb:typeof i.goalslistb=="string"?JSON.parse(i.goalslistb):[]).some(s=>(typeof s=="string"?s:s.player)===a)&&n++}catch{}i.manofthematch===a&&r++});const m=this.matches.filter(i=>l==="AEK"&&(i.teama==="AEK"||i.teamb==="AEK")||l==="Real"&&(i.teama==="Real"||i.teamb==="Real")).length;return Math.max(n,r,m)}calculateDisciplinaryScore(a){let l=0;return a.forEach(n=>{switch(n.type){case"Gelb-Rote Karte":l+=3;break;case"Rote Karte":l+=5;break;case"Verletzung":l+=1;break;default:l+=1}}),l}calculateMatchAnalytics(){if(this.matches.length<3)return{prediction:"Ungenügend Daten",confidence:0,reasoning:"Mindestens 3 Spiele benötigt für Vorhersage"};const a=this.matches.slice(-5);let l=0,n=0;a.forEach((g,d)=>{const h=(d+1)/a.length,w=g.goalsa||0,o=g.goalsb||0;w>o?l+=3*h:o>w?n+=3*h:(l+=1*h,n+=1*h),l+=(w-o)*.1*h,n+=(o-w)*.1*h});const r=this.matches.reduce((g,d)=>g+(d.goalsa||0),0)/this.matches.length,m=this.matches.reduce((g,d)=>g+(d.goalsb||0),0)/this.matches.length,i=this.bans.filter(g=>g.status==="active"||!g.status),u=i.filter(g=>g.team==="AEK").length,A=i.filter(g=>g.team==="Real").length;l-=u*.5,n-=A*.5;const s=l+n,x=Math.max(.1,Math.min(.9,l/s)),f=Math.max(.1,Math.min(.9,n/s));let R,E;x>f?(R="AEK Sieg",E=Math.round(x*100)):(R="Real Sieg",E=Math.round(f*100));const t=`${Math.round(r)}:${Math.round(m)}`;return{prediction:R,confidence:E,predictedScore:t,aekWinProbability:Math.round(x*100),realWinProbability:Math.round(f*100),reasoning:this.generateAnalyticsReasoning(l,n,u,A)}}generateAnalyticsReasoning(a,l,n,r){const m=[];return a>l?m.push("AEK zeigt bessere Form in den letzten Spielen"):l>a&&m.push("Real zeigt bessere Form in den letzten Spielen"),n>r?m.push(`AEK hat mehr gesperrte Spieler (${n} vs ${r})`):r>n&&m.push(`Real hat mehr gesperrte Spieler (${r} vs ${n})`),m.join(". ")||"Ausgeglichene Teams"}getMatchStatsAnalytics(){const a=this.matches.length;if(a===0)return null;const l=this.matches.filter(s=>(s.goalsa||0)>(s.goalsb||0)).length,n=this.matches.filter(s=>(s.goalsb||0)>(s.goalsa||0)).length,r=this.matches.filter(s=>(s.goalsa||0)===(s.goalsb||0)).length,i=(this.matches.reduce((s,x)=>s+(x.goalsa||0)+(x.goalsb||0),0)/a).toFixed(2),u=this.matches[this.matches.length-1],A=u?`${u.goalsa||0}:${u.goalsb||0} (${u.date})`:"Keine Spiele";return{totalMatches:a,aekWins:l,realWins:n,draws:r,avgGoalsPerMatch:i,lastMatchResult:A,aekWinPercentage:Math.round(l/a*100),realWinPercentage:Math.round(n/a*100),drawPercentage:Math.round(r/a*100)}}calculateAdvancedStats(){const a=this.matches.length,l=this.matches.reduce((t,g)=>t+(g.goalsa||0)+(g.goalsb||0),0),n=this.matches.reduce((t,g)=>t+(g.goalsa||0),0),r=this.matches.reduce((t,g)=>t+(g.goalsb||0),0),m=this.matches.filter(t=>(t.goalsa||0)+(t.goalsb||0)>=5).length,i=this.matches.map(t=>Math.abs((t.goalsa||0)-(t.goalsb||0))).filter(t=>t>0),u=i.length>0?Math.max(...i):0,A=[...this.matches].sort((t,g)=>new Date(g.date)-new Date(t.date)).slice(0,10);let s={type:"none",count:0,team:""};if(A.length>0){const t=A[0],g=t.goalsa||0,d=t.goalsb||0;g>d?(s.type="win",s.team="AEK"):d>g&&(s.type="win",s.team="Real");for(const h of A){const w=h.goalsa||0,o=h.goalsb||0;if(s.type==="win"&&s.team==="AEK"&&w>o)s.count++;else if(s.type==="win"&&s.team==="Real"&&o>w)s.count++;else break}}const x={bothTeamsScore:this.matches.filter(t=>(t.goalsa||0)>0&&(t.goalsb||0)>0).length,oneNilWins:this.matches.filter(t=>t.goalsa===1&&t.goalsb===0||t.goalsa===0&&t.goalsb===1).length,highScoringWins:this.matches.filter(t=>Math.max(t.goalsa||0,t.goalsb||0)>=4).length},f={aekHome:this.matches.filter(t=>t.teama==="AEK").length,aekAway:this.matches.filter(t=>t.teamb==="AEK").length,aekHomeWins:this.matches.filter(t=>t.teama==="AEK"&&(t.goalsa||0)>(t.goalsb||0)).length,aekAwayWins:this.matches.filter(t=>t.teamb==="AEK"&&(t.goalsb||0)>(t.goalsa||0)).length},R={};this.matches.forEach(t=>{t.goalscorers&&typeof t.goalscorers=="string"&&t.goalscorers.split(",").map(d=>d.trim()).filter(d=>d).forEach(d=>{R[d]=(R[d]||0)+1})});const E=Object.entries(R).reduce((t,[g,d])=>d>(t.goals||0)?{player:g,goals:d}:t,{player:"N/A",goals:0});return{avgGoalsPerMatch:a>0?(l/a).toFixed(2):"0.00",totalMatches:a,totalGoals:l,aekTotalGoals:n,realTotalGoals:r,highScoringGames:m,biggestWinMargin:u,currentStreak:s,cleanSheets:{aek:this.matches.filter(t=>t.goalsb===0).length,real:this.matches.filter(t=>t.goalsa===0).length},scoringPatterns:x,homeAwayStats:f,topScorer:E,goalEfficiency:{aekAvg:a>0?(n/a).toFixed(2):"0.00",realAvg:a>0?(r/a).toFixed(2):"0.00"},competitiveness:{closeGames:this.matches.filter(t=>Math.abs((t.goalsa||0)-(t.goalsb||0))<=1).length,blowouts:this.matches.filter(t=>Math.abs((t.goalsa||0)-(t.goalsb||0))>=3).length}}}calculatePerformanceTrends(){const a={};return this.matches.forEach(l=>{const n=new Date(l.date),r=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;a[r]||(a[r]={month:r,aekWins:0,realWins:0,totalGoals:0,matchCount:0});const m=l.goalsa||0,i=l.goalsb||0;a[r].totalGoals+=m+i,a[r].matchCount++,m>i?a[r].aekWins++:i>m&&a[r].realWins++}),a}calculateHeadToHead(){const a={totalMatches:this.matches.length,aekWins:0,realWins:0,aekGoals:0,realGoals:0,biggestAekWin:{diff:0,score:"",date:"",opponent:"Real Madrid"},biggestRealWin:{diff:0,score:"",date:"",opponent:"AEK Athen"}};return this.matches.forEach(l=>{const n=l.goalsa||0,r=l.goalsb||0,m=Math.abs(n-r);a.aekGoals+=n,a.realGoals+=r,n>r?(a.aekWins++,m>a.biggestAekWin.diff&&(a.biggestAekWin={diff:m,score:`${n}:${r}`,date:l.date||"",opponent:"Real Madrid"})):r>n&&(a.realWins++,m>a.biggestRealWin.diff&&(a.biggestRealWin={diff:m,score:`${r}:${n}`,date:l.date||"",opponent:"AEK Athen"}))}),a}}function ie({onNavigate:p,showHints:a=!1}){const[l,n]=H.useState("dashboard"),{data:r,loading:m}=z("matches","*"),{data:i,loading:u}=z("players","*"),{data:A,loading:s}=z("spieler_des_spiels","*"),{data:x,loading:f}=z("bans","*"),R=m||u||s||f,E=new te(r,i,x,A),t=E.calculateTeamRecords(),g=E.calculateRecentForm(5),d=E.calculatePlayerStats(),h=E.calculateAdvancedStats(),w=E.calculatePerformanceTrends(),o=E.calculateHeadToHead(),S=(r==null?void 0:r.length)||0,D=(i==null?void 0:i.filter(c=>c.team==="AEK"))||[],C=(i==null?void 0:i.filter(c=>c.team==="Real"))||[],L=t.aek.wins,W=t.real.wins,v=c=>c.map((N,K)=>e.jsx("span",{className:`inline-block w-6 h-6 text-xs font-bold rounded-full text-center leading-6 mx-0.5 ${N==="W"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:N},K)),M=c=>`${(c||0).toFixed(1)}M €`,T=[{id:"dashboard",label:"Dashboard",icon:"🎯"},{id:"overview",label:"Übersicht",icon:"📊"},{id:"analytics",label:"Analytics",icon:"🔮"},{id:"matchdays",label:"Spieltage",icon:"📅"},{id:"players",label:"Spieler",icon:"👥"},{id:"teams",label:"Teams",icon:"🏆"},{id:"trends",label:"Trends",icon:"📈"}];if(R)return e.jsx(U,{message:"Lade Statistiken..."});const $=()=>{const c=d.length>0?d[0]:null,N=d.filter(b=>b.sdsCount>0).sort((b,y)=>y.sdsCount-b.sdsCount)[0],K=r==null?void 0:r.reduce((b,y)=>{const G=P=>{if(!P)return[];try{return typeof P=="string"?JSON.parse(P):P}catch{return[]}},F=G(y.goalslista),O=G(y.goalslistb);return[...F,...O].forEach(P=>{const V=typeof P=="object"?P.player:P,Z=typeof P=="object"?P.count:1;Z>b.count&&(b={player:V,count:Z,match:y})}),b},{player:null,count:0,match:null});return e.jsxs("div",{className:"space-y-6 mobile-card-list",children:[e.jsxs("div",{className:"mobile-grid mobile-grid-2 md:grid-cols-4",children:[e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-success",children:e.jsx("span",{className:"text-white",children:"⚽"})}),e.jsx("div",{className:"mobile-metric-value",children:S}),e.jsx("div",{className:"mobile-metric-label",children:"Spiele gespielt"})]}),e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-warning",children:e.jsx("span",{className:"text-white",children:"🎯"})}),e.jsx("div",{className:"mobile-metric-value",children:h.totalGoals}),e.jsx("div",{className:"mobile-metric-label",children:"Tore insgesamt"}),e.jsxs("div",{className:"mobile-metric-sublabel",children:["⌀ ",S>0?(h.totalGoals/S).toFixed(1):"0.0","/Spiel"]})]}),e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-info",children:e.jsx("span",{className:"text-white",children:"🥇"})}),e.jsx("div",{className:"mobile-metric-value text-subhead font-semibold",children:c?c.name.split(" ").slice(-1)[0]:"–"}),e.jsxs("div",{className:"mobile-metric-label",children:["Topscorer (",c?c.goals:0," Tore)"]}),e.jsx("div",{className:"mobile-metric-sublabel",children:c&&c.matchesPlayed>0?`⌀ ${(c.goals/c.matchesPlayed).toFixed(2)}/Spiel`:"⌀ 0.00/Spiel"})]}),e.jsxs("div",{className:"mobile-metric-card animate-mobile-slide-in",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-warning",children:e.jsx("span",{className:"text-white",children:"⭐"})}),e.jsx("div",{className:"mobile-metric-value text-subhead font-semibold",children:N?N.name.split(" ").slice(-1)[0]:"–"}),e.jsxs("div",{className:"mobile-metric-label",children:["Top SdS (",N?N.sdsCount:0,"x)"]}),e.jsx("div",{className:"mobile-metric-sublabel",children:N&&N.matchesPlayed>0?`${(N.sdsCount/N.matchesPlayed*100).toFixed(1)}% Quote`:"0.0% Quote"})]})]}),e.jsxs("div",{className:"mobile-grid mobile-grid-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"mobile-overview-card team-aek animate-mobile-slide-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-caption1 font-semibold text-system-blue uppercase tracking-wide",children:"🔵 AEK Athen"}),e.jsx("div",{className:"w-8 h-8 bg-system-blue/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-system-blue text-sm font-bold",children:"A"})})]}),e.jsx("div",{className:"text-title1 font-bold text-text-primary mb-2",children:o.biggestAekWin.diff>0?o.biggestAekWin.score:"–"}),e.jsx("div",{className:"text-callout text-text-secondary mb-3",children:"Größter Sieg"}),o.biggestAekWin.diff>0&&e.jsxs("div",{className:"text-footnote text-text-tertiary space-y-1",children:[e.jsxs("div",{children:["vs ",o.biggestAekWin.opponent]}),e.jsx("div",{className:"text-caption1",children:new Date(o.biggestAekWin.date).toLocaleDateString("de-DE")})]})]}),e.jsxs("div",{className:"mobile-overview-card team-real animate-mobile-slide-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-caption1 font-semibold text-system-red uppercase tracking-wide",children:"🔴 Real Madrid"}),e.jsx("div",{className:"w-8 h-8 bg-system-red/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-system-red text-sm font-bold",children:"R"})})]}),e.jsx("div",{className:"text-title1 font-bold text-text-primary mb-2",children:o.biggestRealWin.diff>0?o.biggestRealWin.score:"–"}),e.jsx("div",{className:"text-callout text-text-secondary mb-3",children:"Größter Sieg"}),o.biggestRealWin.diff>0&&e.jsxs("div",{className:"text-footnote text-text-tertiary space-y-1",children:[e.jsxs("div",{children:["vs ",o.biggestRealWin.opponent]}),e.jsx("div",{className:"text-caption1",children:new Date(o.biggestRealWin.date).toLocaleDateString("de-DE")})]})]}),e.jsxs("div",{className:"mobile-overview-card animate-mobile-slide-in hover:scale-105 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"text-caption1 font-semibold text-system-purple uppercase tracking-wide",children:"⚽ Top Performance"}),e.jsx("div",{className:"w-8 h-8 bg-system-purple/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-system-purple text-sm font-bold",children:"🏆"})})]}),e.jsx("div",{className:"text-title1 font-bold text-text-primary mb-2",children:K!=null&&K.player?K.player.split(" ").slice(-1)[0]:"–"}),e.jsxs("div",{className:"text-callout text-text-secondary mb-3",children:["Meiste Tore (",(K==null?void 0:K.count)||0," in einem Spiel)"]}),(K==null?void 0:K.match)&&e.jsx("div",{className:"text-footnote text-text-tertiary",children:e.jsx("div",{className:"text-caption1",children:new Date(K.match.date).toLocaleDateString("de-DE")})})]})]}),e.jsxs("div",{className:"mobile-overview-card animate-mobile-slide-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-info rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg",children:"📊"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-title3 font-bold text-text-primary",children:"Erweiterte Statistiken"}),e.jsx("p",{className:"text-caption1 text-text-secondary",children:"Detaillierte Analyse der Liga"})]})]}),e.jsxs("div",{className:"mobile-grid mobile-grid-auto gap-4",children:[e.jsxs("div",{className:"mobile-metric-card",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-warning",children:e.jsx("span",{className:"text-white",children:"⏱️"})}),e.jsx("div",{className:"mobile-metric-value text-title2",children:(()=>{const b=(x==null?void 0:x.reduce((G,F)=>{const O=F.totalgames||0;return G+O},0))||0;return`${(x==null?void 0:x.length)>0?(b/x.length).toFixed(1):"0.0"}`})()}),e.jsx("div",{className:"mobile-metric-label",children:"⌀ Sperrenlänge"}),e.jsx("div",{className:"mobile-metric-sublabel",children:"Spiele"})]}),e.jsxs("div",{className:"mobile-metric-card",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-success",children:e.jsx("span",{className:"text-white",children:"🎯"})}),e.jsx("div",{className:"mobile-metric-value text-title2",children:d.filter(b=>b.goals>0).length}),e.jsx("div",{className:"mobile-metric-label",children:"Aktive Torschützen"}),e.jsxs("div",{className:"mobile-metric-sublabel",children:["von ",d.length]})]}),e.jsxs("div",{className:"mobile-metric-card",children:[e.jsx("div",{className:"mobile-metric-icon bg-gradient-danger",children:e.jsx("span",{className:"text-white",children:"🟥"})}),e.jsx("div",{className:"mobile-metric-value text-title2",children:(x==null?void 0:x.length)||0}),e.jsx("div",{className:"mobile-metric-label",children:"Gesamt Sperren"}),e.jsx("div",{className:"mobile-metric-sublabel",children:"aller Zeiten"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"💡 Besondere Statistiken"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:(()=>{let b=0,y=0,G=0;return r==null||r.forEach(F=>{const O=F.goalsa||0,P=F.goalsb||0;O>P?(y++,G=0,y>b&&(b=y)):P>O&&(G++,y=0,G>b&&(b=G))}),b})()}),e.jsx("div",{className:"text-sm text-green-700",children:"🔥 Längste Siegesserie"}),e.jsx("div",{className:"text-xs text-green-600 mt-1",children:(()=>{let b=0,y=0,G=0,F="";return r==null||r.forEach(O=>{const P=O.goalsa||0,V=O.goalsb||0;P>V?(y++,G=0,y>b&&(b=y,F="AEK")):V>P&&(G++,y=0,G>b&&(b=G,F="Real"))}),F||"Keine"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:[e.jsx("div",{className:"text-xl font-bold text-yellow-600",children:(()=>{let b=0;return d.forEach(y=>{if(y.matchesPlayed>0){const G=y.goals/y.matchesPlayed;G>b&&(b=G)}}),b.toFixed(2)})()}),e.jsx("div",{className:"text-sm text-yellow-700",children:"⚡ Höchste Effizienz"}),e.jsx("div",{className:"text-xs text-yellow-600 mt-1",children:(()=>{let b=0,y=null;return d.forEach(G=>{if(G.matchesPlayed>0){const F=G.goals/G.matchesPlayed;F>b&&(b=F,y=G.name)}}),y||"Keine Daten"})()})]}),e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl font-bold text-blue-600",children:(()=>{const b=t.aek.wins,y=t.real.wins;return b+y===0?"100%":`${(Math.min(b,y)/Math.max(b,y)*100).toFixed(0)}%`})()}),e.jsx("div",{className:"text-sm text-blue-700",children:"⚖️ Team-Balance"}),e.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Ausgeglichenheit (",t.aek.wins,":",t.real.wins,")"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card-ios",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-fifa-blue/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🔵"})}),e.jsx("h3",{className:"text-title3 font-bold text-fifa-blue",children:"AEK Athen"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Siege:"}),e.jsx("span",{className:"text-body font-semibold text-system-green",children:L})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Niederlagen:"}),e.jsx("span",{className:"text-body font-semibold text-system-red",children:t.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Zu Null:"}),e.jsx("span",{className:"text-body font-semibold text-text-primary",children:h.cleanSheets.aek})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-caption1 text-text-secondary mb-2",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:v(g.aek)})]})]})]}),e.jsxs("div",{className:"card-ios",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-fifa-red/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🔴"})}),e.jsx("h3",{className:"text-title3 font-bold text-fifa-red",children:"Real Madrid"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Siege:"}),e.jsx("span",{className:"text-body font-semibold text-system-green",children:W})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Niederlagen:"}),e.jsx("span",{className:"text-body font-semibold text-system-red",children:t.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-body text-text-secondary",children:"Zu Null:"}),e.jsx("span",{className:"text-body font-semibold text-text-primary",children:h.cleanSheets.real})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"text-caption1 text-text-secondary mb-2",children:"Form (letzte 5):"}),e.jsx("div",{className:"flex",children:v(g.real)})]})]})]})]}),e.jsxs("div",{className:"card-ios",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-system-yellow/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg",children:"🏆"})}),e.jsx("h3",{className:"text-title3 font-bold text-text-primary",children:"Top-Torschützen"})]}),e.jsx("div",{className:"space-y-3",children:d.slice(0,5).map((b,y)=>e.jsx("div",{className:"list-item-ios",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-caption2 font-bold ${y===0?"bg-system-yellow text-white":y===1?"bg-text-quaternary text-white":y===2?"bg-system-orange text-white":"bg-bg-tertiary text-text-secondary"}`,children:y+1}),e.jsxs("div",{children:[e.jsx("div",{className:"text-callout font-medium text-text-primary",children:b.name}),e.jsx("div",{className:"text-caption1 text-text-secondary",children:b.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-callout font-bold text-text-primary",children:[b.goals," Tore"]}),e.jsxs("div",{className:"text-caption1 text-text-secondary",children:[b.goalsPerGame," ⌀"]})]})]})},b.id))})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"⭐ Top-Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:d.filter(b=>b.sdsCount>0).sort((b,y)=>y.sdsCount-b.sdsCount).slice(0,5).map((b,y)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border-light last:border-b-0",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${y===0?"bg-yellow-500 text-white":y===1?"bg-gray-400 text-white":y===2?"bg-orange-600 text-white":"bg-gray-200 text-gray-600"}`,children:y+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:b.name}),e.jsx("div",{className:"text-sm text-text-muted",children:b.team})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold",children:[b.sdsCount,"x SdS"]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[b.matchesPlayed>0?(b.sdsCount/b.matchesPlayed*100).toFixed(1):"0.0","% Quote"]})]})]},b.id))}),d.filter(b=>b.sdsCount>0).length===0&&e.jsx("div",{className:"text-center text-text-muted py-4",children:"Noch keine Spieler des Spiels Auszeichnungen vergeben"})]})]})},j=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📊 Spielerstatistiken"}),e.jsxs("div",{className:"mb-6 grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-green",children:d.filter(c=>c.goals>0).length}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Aktive Torschützen"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-blue",children:d.reduce((c,N)=>c+N.goals,0)}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Tore insgesamt"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-orange",children:d.filter(c=>c.sdsCount>0).length}),e.jsx("div",{className:"text-sm text-text-secondary",children:"SdS Träger"})]}),e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-primary-red",children:d.reduce((c,N)=>c+N.totalBans,0)}),e.jsx("div",{className:"text-sm text-text-secondary",children:"Gesamt Sperren"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-2",children:"Spieler"}),e.jsx("th",{className:"text-left py-2",children:"Team"}),e.jsx("th",{className:"text-center py-2",children:"Tore"}),e.jsx("th",{className:"text-center py-2",children:"⌀/Spiel"}),e.jsx("th",{className:"text-center py-2",children:"Spiele"}),e.jsx("th",{className:"text-center py-2",children:"SdS"}),e.jsx("th",{className:"text-center py-2",children:"SdS %"}),e.jsx("th",{className:"text-center py-2",children:"Sperren"}),e.jsx("th",{className:"text-right py-2",children:"Marktwert"})]})}),e.jsx("tbody",{children:d.map(c=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-2 font-medium",children:c.name}),e.jsx("td",{className:"py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.team==="AEK"?"bg-blue-100 text-blue-800":c.team==="Ehemalige"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:c.team})}),e.jsx("td",{className:"py-2 text-center font-bold",children:c.goals}),e.jsx("td",{className:"py-2 text-center",children:c.goalsPerGame}),e.jsx("td",{className:"py-2 text-center",children:c.matchesPlayed}),e.jsx("td",{className:"py-2 text-center",children:c.sdsCount}),e.jsx("td",{className:"py-2 text-center",children:e.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${parseFloat(c.sdsPercentage)>=50?"bg-green-100 text-green-800":parseFloat(c.sdsPercentage)>=25?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600"}`,children:[c.sdsPercentage,"% (",c.sdsCount,"/",c.totalMatches,")"]})}),e.jsx("td",{className:"py-2 text-center",children:e.jsx("span",{className:`px-1 py-0.5 rounded text-xs ${c.totalBans===0?"bg-green-100 text-green-800":c.totalBans<=2?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:c.totalBans})}),e.jsx("td",{className:"py-2 text-right",children:M(c.value)})]},c.id))})]})}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"🏆 Effizienz-Spitze"}),(()=>{const c=d.filter(N=>N.matchesPlayed>=3).sort((N,K)=>K.goalsPerMatchWhenPlaying-N.goalsPerMatchWhenPlaying)[0];return c?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-700",children:c.name}),e.jsxs("div",{className:"text-sm text-green-600",children:[c.goalsPerGame," Tore/Spiel (",c.goals," Tore in ",c.matchesPlayed," Spielen)"]})]}):e.jsx("div",{className:"text-gray-500",children:"Nicht genügend Daten"})})()]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"⭐ SdS-König"}),(()=>{const c=d.filter(N=>N.sdsCount>0).sort((N,K)=>parseFloat(K.sdsPercentage)-parseFloat(N.sdsPercentage))[0];return c?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-yellow-700",children:c.name}),e.jsxs("div",{className:"text-sm text-yellow-600",children:[c.sdsPercentage,"% Quote (",c.sdsCount,"x SdS)"]})]}):e.jsx("div",{className:"text-gray-500",children:"Noch keine SdS vergeben"})})()]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"🚫 Disziplin-Problem"}),(()=>{const c=d.filter(N=>N.totalBans>0).sort((N,K)=>K.totalBans-N.totalBans)[0];return c?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-700",children:c.name}),e.jsxs("div",{className:"text-sm text-red-600",children:[c.totalBans," Sperren (Score: ",c.disciplinaryScore,")"]})]}):e.jsx("div",{className:"text-gray-500",children:"Keine Sperren verzeichnet"})})()]})]})]}),k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"⚖️ Team-Vergleich"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"AEK Athen"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:D.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:L})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:t.aek.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:h.cleanSheets.aek})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"Real Madrid"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:C.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Siege:"}),e.jsx("span",{className:"font-medium",children:W})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Niederlagen:"}),e.jsx("span",{className:"font-medium",children:t.real.losses})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zu Null Spiele:"}),e.jsx("span",{className:"font-medium",children:h.cleanSheets.real})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📈 Erweiterte Statistiken"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Diese Statistiken bieten tiefere Einblicke in die Team-Performance und wichtige Kennzahlen."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:h.highScoringGames}),e.jsx("div",{className:"text-sm text-text-muted",children:"Torspektakel"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Spiele mit 5+ Toren"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:h.biggestWinMargin}),e.jsx("div",{className:"text-sm text-text-muted",children:"Größter Sieg"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Höchste Tordifferenz"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue",children:h.avgGoalsPerMatch}),e.jsx("div",{className:"text-sm text-text-muted",children:"⌀ Tore pro Spiel"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:"Durchschnittswert"})]}),e.jsxs("div",{className:"text-center p-4 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:h.currentStreak.count>0?`${h.currentStreak.count}`:"0"}),e.jsx("div",{className:"text-sm text-text-muted",children:"Siegesserie"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:h.currentStreak.count>0?h.currentStreak.team:"Keine aktuelle Serie"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-blue-600",children:"🏠 Home/Away Analyse"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Heimspiele:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekHome})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Heimsiege:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekHomeWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Auswärtssiege:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekAwayWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Heimstärke AEK:"}),e.jsx("span",{className:"font-medium",children:h.homeAwayStats.aekHome>0?`${(h.homeAwayStats.aekHomeWins/h.homeAwayStats.aekHome*100).toFixed(0)}%`:"0%"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-green-600",children:"⚽ Torstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Beide Teams treffen:"}),e.jsx("span",{className:"font-medium",children:h.scoringPatterns.bothTeamsScore})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"1:0 Siege:"}),e.jsx("span",{className:"font-medium",children:h.scoringPatterns.oneNilWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"4+ Tore Siege:"}),e.jsx("span",{className:"font-medium",children:h.scoringPatterns.highScoringWins})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Top-Torschütze:"}),e.jsxs("span",{className:"font-medium",children:[h.topScorer.player," (",h.topScorer.goals,")"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"🎯 Spielqualität"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Enge Spiele (≤1 Tor):"}),e.jsx("span",{className:"font-medium",children:h.competitiveness.closeGames})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Deutliche Siege (≥3 Tore):"}),e.jsx("span",{className:"font-medium",children:h.competitiveness.blowouts})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Tor-Schnitt:"}),e.jsx("span",{className:"font-medium",children:h.goalEfficiency.aekAvg})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Tor-Schnitt:"}),e.jsx("span",{className:"font-medium",children:h.goalEfficiency.realAvg})]})]})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"🎯 Offensive Highlights"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Team:"}),e.jsxs("span",{className:"font-medium",children:[h.aekTotalGoals>=h.realTotalGoals?"AEK Athen":"Real Madrid","(",Math.max(h.aekTotalGoals,h.realTotalGoals)," Tore)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Höchste Einzelspiel-Toranzahl:"}),e.jsxs("span",{className:"font-medium",children:[h.highestScoringMatch," Tore"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktivster Torschütze:"}),e.jsx("span",{className:"font-medium",children:d.length>0?`${d[0].name} (${d[0].goals} Tore)`:"Keine Daten"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-text-primary",children:"⚖️ Team-Balance"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Kader-Unterschied:"}),e.jsxs("span",{className:"font-medium",children:[Math.abs(D.length-C.length)," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Marktwert-Verhältnis:"}),e.jsx("span",{className:"font-medium",children:D.reduce((c,N)=>c+(N.value||0),0)>C.reduce((c,N)=>c+(N.value||0),0)?"AEK führt":"Real führt"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dominanteres Team:"}),e.jsx("span",{className:"font-medium",children:L>W?"AEK Athen":W>L?"Real Madrid":"Ausgeglichen"})]})]})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"⚔️ Head-to-Head Bilanz"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Direkter Vergleich zwischen AEK Athen und Real Madrid über alle Spiele."}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.aekWins}),e.jsx("div",{className:"text-sm text-blue-700",children:"AEK Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:o.totalMatches>0?`${(o.aekWins/o.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:o.realWins}),e.jsx("div",{className:"text-sm text-red-700",children:"Real Siege"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:o.totalMatches>0?`${(o.realWins/o.totalMatches*100).toFixed(1)}%`:"0%"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.aekGoals+o.realGoals}),e.jsx("div",{className:"text-sm text-green-700",children:"Tore gesamt"}),e.jsx("div",{className:"text-xs text-text-muted mt-1",children:o.totalMatches>0?`⌀ ${((o.aekGoals+o.realGoals)/o.totalMatches).toFixed(1)} pro Spiel`:"⌀ 0 pro Spiel"})]})]}),e.jsxs("div",{className:"mt-6 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"🔵 Größter AEK Sieg"}),o.biggestAekWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:o.biggestAekWin.score}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Unterschied: ",o.biggestAekWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(o.biggestAekWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"🔴 Größter Real Sieg"}),o.biggestRealWin.diff>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:o.biggestRealWin.score}),e.jsxs("div",{className:"text-sm text-red-700",children:["Unterschied: ",o.biggestRealWin.diff," Tore"]}),e.jsx("div",{className:"text-xs text-text-muted",children:new Date(o.biggestRealWin.date).toLocaleDateString("de-DE")})]}):e.jsx("div",{className:"text-gray-500",children:"Noch kein Sieg verzeichnet"})]})]})]}),e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"🔬 Detailanalyse"}),e.jsx("div",{className:"mb-4 text-sm text-text-muted",children:"Erweiterte Metriken für eine tiefgreifende Team-Analyse."}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-red-600",children:"🎲 Spielstatistiken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Spiele gespielt:"}),e.jsx("span",{className:"font-medium",children:S})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Längste Serie:"}),e.jsxs("span",{className:"font-medium",children:[L>=W?"AEK":"Real"," (",Math.max(L,W)," Siege)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torreichstes Spiel:"}),e.jsxs("span",{className:"font-medium",children:[h.highestScoringMatch," Tore"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-purple-600",children:"🏆 Leistungs-Metriken"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Aktive Spieler:"}),e.jsx("span",{className:"font-medium",children:D.length+C.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Torschützen:"}),e.jsxs("span",{className:"font-medium",children:[d.filter(c=>c.goals>0).length," Spieler"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Erfolgsquote AEK:"}),e.jsx("span",{className:"font-medium",children:S>0?`${(L/S*100).toFixed(0)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Erfolgsquote Real:"}),e.jsx("span",{className:"font-medium",children:S>0?`${(W/S*100).toFixed(0)}%`:"0%"})]})]})]})]})]})]}),B=()=>e.jsxs("div",{className:"modern-card",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📈 Performance-Trends"}),e.jsx("div",{className:"space-y-4",children:Object.values(w).reverse().map(c=>e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border-light last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:c.month}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-blue-600 font-medium",children:["AEK: ",c.aekWins]}),e.jsx("span",{className:"mx-2",children:"vs"}),e.jsxs("span",{className:"text-red-600 font-medium",children:["Real: ",c.realWins]})]}),e.jsxs("div",{className:"text-sm text-text-muted",children:[c.matchCount," Spiele, ",c.totalGoals," Tore"]}),e.jsxs("div",{className:"text-sm font-medium",children:["⌀ ",(c.totalGoals/c.matchCount).toFixed(1)," Tore/Spiel"]})]})]},c.month))})]}),Q=()=>{const c=E.calculateMatchAnalytics(),N=E.getMatchStatsAnalytics();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🔮"}),"Nächstes Match - Vorhersage"]}),c.prediction==="Ungenügend Daten"?e.jsxs("div",{className:"text-center py-8 text-text-muted",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📊"}),e.jsx("p",{children:c.reasoning})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-blue mb-2",children:c.prediction}),e.jsxs("div",{className:"text-sm text-text-muted",children:["Vorhersage: ",c.predictedScore," | Wahrscheinlichkeit: ",c.confidence,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:"AEK"}),e.jsxs("div",{className:"text-2xl font-bold",children:[c.aekWinProbability,"%"]})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:"Real"}),e.jsxs("div",{className:"text-2xl font-bold",children:[c.realWinProbability,"%"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"📋 Begründung:"}),e.jsx("p",{className:"text-sm text-text-muted",children:c.reasoning})]})]})]}),e.jsxs("div",{className:"modern-card p-6",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"📈"}),"Match-Statistiken"]}),N?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-bg-secondary rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold",children:N.totalMatches}),e.jsx("div",{className:"text-xs text-text-secondary",children:"Gesamt Spiele"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-green-600",children:N.aekWins}),e.jsx("div",{className:"text-xs text-text-secondary",children:"AEK Siege"})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-red-600",children:N.realWins}),e.jsx("div",{className:"text-xs text-text-secondary",children:"Real Siege"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"AEK Siegquote:"}),e.jsxs("span",{className:"font-medium",children:[N.aekWinPercentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Real Siegquote:"}),e.jsxs("span",{className:"font-medium",children:[N.realWinPercentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unentschieden:"}),e.jsxs("span",{className:"font-medium",children:[N.drawPercentage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ø Tore/Spiel:"}),e.jsx("span",{className:"font-medium",children:N.avgGoalsPerMatch})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Letztes Spiel:"}),e.jsx("span",{className:"font-medium text-sm",children:N.lastMatchResult})]})]})]}):e.jsxs("div",{className:"text-center py-8 text-text-muted",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📊"}),e.jsx("p",{children:"Keine Spiele vorhanden für Statistiken"})]})]})]})},_=()=>{switch(l){case"dashboard":return e.jsxs("div",{className:"space-y-6",children:[e.jsx(se,{}),e.jsx(X,{onNavigate:p})]});case"analytics":return Q();case"matchdays":return e.jsx(ee,{matches:r});case"players":return j();case"teams":return k();case"trends":return B();default:return $()}};return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6 animate-mobile-slide-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-info rounded-ios-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"📊"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-title1 font-bold text-text-primary",children:"Statistiken"}),e.jsx("p",{className:"text-footnote text-text-secondary",children:"Umfassende Liga-Analyse"})]})]}),e.jsx("div",{className:"w-full h-1 bg-bg-tertiary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-info w-3/4 rounded-full animate-pulse-gentle"})})]}),e.jsx(I,{views:T,selectedView:l,onViewChange:n}),e.jsx("div",{className:"form-container animate-mobile-slide-in",children:_()})]})}export{ie as default};
