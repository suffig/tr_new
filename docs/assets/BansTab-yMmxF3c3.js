import{r as w,u as g,j as e,L as k}from"./main-CkDyBUMK.js";import{B as v,g as c,a as h}from"./banTypes-DuNOJEIt.js";import{H as B}from"./HorizontalNavigation-BMNCnAY2.js";import{T as p}from"./TeamLogo-BLn_0ZO4.js";import"./versionTeamManager-DxfBr9DN.js";function G({onNavigate:A,showHints:j=!1}){const[l,f]=w.useState("active"),{data:r,loading:N}=g("bans","*"),{data:d,loading:b}=g("players","*"),y=N||b,o=s=>{if(!d)return"Unbekannt";const t=d.find(a=>a.id===s);return(t==null?void 0:t.name)||"Unbekannt"},m=s=>{if(!d)return"Unbekannt";const t=d.find(a=>a.id===s);return(t==null?void 0:t.team)||"Unbekannt"},u=(r||[]).filter(t=>l==="all"?!0:l==="active"?t.totalgames-t.matchesserved>0:l==="completed"?t.totalgames-t.matchesserved===0:t.type===l),i=(r==null?void 0:r.filter(s=>s.totalgames-s.matchesserved>0))||[],n=(r==null?void 0:r.filter(s=>s.totalgames-s.matchesserved===0))||[],S=[{id:"all",label:"Alle",icon:"📋",count:(r==null?void 0:r.length)||0},{id:"active",label:"Aktiv",icon:"🔴",count:i.length},{id:"completed",label:"Beendet",icon:"✅",count:n.length},...v.map(s=>({id:s.value,label:s.label,icon:c(s.value)||"⚠️",count:(r==null?void 0:r.filter(t=>t.type===s.value).length)||0}))];return y?e.jsx(k,{message:"Lade Sperren..."}):e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6 animate-mobile-slide-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-info rounded-ios-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"🚫"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-title1 font-bold text-text-primary",children:"Sperren"}),e.jsx("p",{className:"text-footnote text-text-secondary",children:"Übersicht aller Spielersperren"})]})]}),e.jsx("div",{className:"w-full h-1 bg-bg-tertiary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-info w-3/4 rounded-full animate-pulse-gentle"})})]}),e.jsx(B,{views:S.map(s=>({...s,label:`${s.label} (${s.count})`})),selectedView:l,onViewChange:f}),l==="active"||l==="all"?e.jsxs(e.Fragment,{children:[i.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:["🔴 Aktive Sperren (",i.length,")"]}),e.jsx("div",{className:"space-y-4",children:i.map(s=>{const t=(s.totalgames||0)-(s.matchesserved||0),a=(s.totalgames||0)>0?(s.matchesserved||0)/(s.totalgames||0)*100:0;return e.jsx("div",{className:"modern-card hover:bg-bg-secondary transition-colors cursor-pointer group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform",children:c(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-text-primary group-hover:text-primary-green transition-colors",children:o(s.player_id)}),e.jsx(p,{team:m(s.player_id),size:"sm",className:"group-hover:scale-110 transition-transform"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border transition-all group-hover:scale-105 ${h(s.type)}`,children:s.type}),e.jsxs("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200 transition-all group-hover:scale-105",children:["🔴 Aktiv - ",t," Spiel",t!==1?"e":""," verbleibend"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-text-muted mb-1",children:[e.jsxs("span",{children:["Fortschritt: ",s.matchesserved||0," / ",s.totalgames||0," Spiele"]}),e.jsxs("span",{children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-red-500 transition-all duration-300",style:{width:`${Math.min(a,100)}%`}})})]}),s.reason&&e.jsxs("p",{className:"text-sm text-text-muted",children:["Grund: ",s.reason]})]})]}),e.jsxs("div",{className:"text-center ml-4",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t}),e.jsx("div",{className:"text-xs text-red-600 uppercase font-medium",children:"Verbleibend"})]})]})},s.id)})}),j&&e.jsx("div",{className:"mt-6 modern-card bg-red-50 border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-red-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Um neue Sperren hinzuzufügen oder zu verwalten, nutzen Sie den Verwaltungsbereich."})]})]})})]}),l==="all"&&n.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-text-primary mb-4 flex items-center gap-2",children:["✅ Beendete Sperren (",n.length,")"]}),e.jsx("div",{className:"space-y-4",children:n.map(s=>e.jsx("div",{className:"modern-card hover:bg-bg-secondary transition-colors cursor-pointer group opacity-75",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform",children:c(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-text-primary group-hover:text-primary-green transition-colors",children:o(s.player_id)}),e.jsx(p,{team:m(s.player_id),size:"sm",className:"group-hover:scale-110 transition-transform"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border transition-all group-hover:scale-105 ${h(s.type)}`,children:s.type}),e.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200 transition-all group-hover:scale-105",children:"✅ Beendet"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-text-muted mb-1",children:[e.jsxs("span",{children:["Fortschritt: ",s.matchesserved||0," / ",s.totalgames||0," Spiele"]}),e.jsxs("span",{children:[Math.round(100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-green-500 transition-all duration-300",style:{width:`${Math.min(100,100)}%`}})})]}),s.reason&&e.jsxs("p",{className:"text-sm text-text-muted",children:["Grund: ",s.reason]})]})]})})},s.id))})]})]}):e.jsx(e.Fragment,{children:u.length>0?e.jsx("div",{className:"space-y-4",children:u.map(s=>{const t=(s.totalgames||0)-(s.matchesserved||0),a=(s.totalgames||0)>0?(s.matchesserved||0)/(s.totalgames||0)*100:0,x=t>0;return e.jsx("div",{className:"modern-card hover:bg-bg-secondary transition-colors cursor-pointer group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform",children:c(s.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-text-primary group-hover:text-primary-green transition-colors",children:o(s.player_id)}),e.jsx(p,{team:m(s.player_id),size:"sm",className:"group-hover:scale-110 transition-transform"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border transition-all group-hover:scale-105 ${h(s.type)}`,children:s.type}),x?e.jsxs("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200 transition-all group-hover:scale-105",children:["🔴 Aktiv - ",t," Spiel",t!==1?"e":""," verbleibend"]}):e.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200 transition-all group-hover:scale-105",children:"✅ Beendet"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-text-muted mb-1",children:[e.jsxs("span",{children:["Fortschritt: ",s.matchesserved||0," / ",s.totalgames||0," Spiele"]}),e.jsxs("span",{children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${x?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(a,100)}%`}})})]}),s.reason&&e.jsxs("p",{className:"text-sm text-text-muted",children:["Grund: ",s.reason]})]})]}),x&&e.jsxs("div",{className:"text-center ml-4",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t}),e.jsx("div",{className:"text-xs text-red-600 uppercase font-medium",children:"Verbleibend"})]})]})},s.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🚫"}),e.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:l==="completed"?"Keine beendeten Sperren":`Keine ${l} Sperren`}),e.jsx("p",{className:"text-text-muted",children:l==="completed"?"Es gibt noch keine beendeten Sperren.":"Versuche einen anderen Filter oder erstelle neue Sperren."})]})}),(l==="active"&&i.length===0||l==="all"&&(r==null?void 0:r.length)===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"🚫"}),e.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:l==="all"?"Keine Sperren gefunden":"Keine aktiven Sperren"}),e.jsx("p",{className:"text-text-muted",children:l==="all"?"Es wurden noch keine Sperren erstellt.":"Aktuell sind keine Sperren aktiv."})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-8",children:[e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-red group-hover:scale-110 transition-transform",children:i.length}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Aktive Sperren"})]}),e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green group-hover:scale-110 transition-transform",children:n.length}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Beendete Sperren"})]}),e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange group-hover:scale-110 transition-transform",children:(r==null?void 0:r.length)||0}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Gesamt Sperren"})]}),e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue group-hover:scale-110 transition-transform",children:v.length}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Sperr-Arten"})]})]})]})}export{G as default};
