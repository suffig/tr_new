import{r as S,j as e}from"./main-5cMcSkMa.js";import{d as se}from"./dataManager-Ca-4-srE.js";const re=({managers:z,beerConsumption:A,shotConsumption:v,drinkingStartTime:k})=>{var T,H,W,Z;const[o,J]=S.useState(!1),[l,K]=S.useState([]),[s,V]=S.useState([]),x=S.useRef(null),R=(a,h,g,b,m)=>{if(!g.weight||a===0&&(!h||h.shots20===0&&h.shots40===0))return 0;const N=a*25*.789;let w=0;h&&(w=h.shots20*20*.2*.789+h.shots40*20*.4*.789);const p=N+w,y=g.gender==="male"?.7:.6;let f=p/(y*g.weight);if(b&&m){const C=new Date(b),E=(new Date(m)-C)/(1e3*60*60)*.15;f=Math.max(0,f-E)}return f};S.useEffect(()=>{if(!k)return;const a=localStorage.getItem("drinkEvents");if(a)try{V(JSON.parse(a))}catch(h){console.error("Error loading drink events:",h)}},[k]),S.useEffect(()=>{if(!k)return;const a=A.alexander+v.alexander.shots20+v.alexander.shots40,h=A.philip+v.philip.shots20+v.philip.shots40,g=s[s.length-1],b=new Date().toISOString();if(!g||g.alexanderTotal!==a||g.philipTotal!==h){const m={timestamp:b,alexanderTotal:a,philipTotal:h,alexanderChange:g?a-g.alexanderTotal:a,philipChange:g?h-g.philipTotal:h,beers:{alexander:A.alexander,philip:A.philip},shots:{alexander:v.alexander,philip:v.philip}},N=[...s,m];V(N),localStorage.setItem("drinkEvents",JSON.stringify(N))}},[A,v,k,s]),S.useEffect(()=>{if(!k){K([]);return}const a=()=>{const h=new Date(k),g=new Date,b=[],m=5,N=Math.ceil((g-h)/(1e3*60)),w=Math.min(Math.ceil(N/m),144);for(let p=0;p<=w;p++){const y=new Date(h.getTime()+p*m*60*1e3),f=R(A.alexander,v.alexander,{weight:z.aek.weight,gender:"male"},k,y.toISOString()),C=R(A.philip,v.philip,{weight:z.real.weight,gender:"male"},k,y.toISOString());b.push({time:y,timeLabel:y.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}),alexander:f,philip:C})}K(b)};return a(),x.current=setInterval(a,6e4),()=>{x.current&&clearInterval(x.current)}},[k,A,v,z]);const D=Math.max(...l.map(a=>Math.max(a.alexander,a.philip)),1),d=a=>a>=1?"text-red-500":a>=.5?"text-orange-500":a>=.3?"text-yellow-500":"text-green-500",U=()=>{const a=window.innerWidth<768,h=a?Math.min(window.innerWidth-32,450):900,g=a?280:400,b=a?{top:35,right:45,bottom:55,left:45}:{top:40,right:100,bottom:60,left:60},m=h-b.left-b.right,N=g-b.top-b.bottom;if(l.length===0)return e.jsx("div",{className:"flex items-center justify-center bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",style:{width:`${h}px`,height:`${g}px`},children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📊"}),e.jsx("p",{children:"Keine Daten zum Anzeigen"}),e.jsx("p",{className:"text-sm",children:"Trinken starten, um den Verlauf zu sehen"})]})});const w=i=>i/(l.length-1)*m,p=i=>N-i/D*N,y=(i,t)=>{if(i.length===0)return"";const r=i.map((c,j)=>({x:w(j),y:p(t(c))}));let n=`M ${r[0].x} ${r[0].y}`;for(let c=1;c<r.length;c++){const j=r[c-1],u=r[c],B=j.x+(u.x-j.x)*.4,$=j.y,M=u.x-(u.x-j.x)*.4,G=u.y;n+=` C ${B} ${$}, ${M} ${G}, ${u.x} ${u.y}`}return n},f=y(l,i=>i.alexander),C=y(l,i=>i.philip),F=[];[.3,.5,1,1.5,2].forEach(i=>{i<=D&&F.push(e.jsxs("g",{children:[e.jsx("line",{x1:0,y1:p(i),x2:m,y2:p(i),stroke:i===.5?"#f59e0b":i===1?"#ef4444":"#e5e7eb",strokeWidth:i===.5||i===1?2:1,strokeDasharray:i===.5||i===1?"5,5":"none"}),e.jsxs("text",{x:-10,y:p(i)+4,textAnchor:"end",fontSize:"12",fill:i===.5?"#d97706":i===1?"#dc2626":"#6b7280",className:"font-medium",children:[i.toFixed(1),"‰"]})]},i))});const E=[],L=new Date(k);l.forEach((i,t)=>{(i.time-L)/6e4%60===0&&t<l.length-1&&E.push(e.jsxs("g",{children:[e.jsx("line",{x1:w(t),y1:0,x2:w(t),y2:N,stroke:"#d1d5db",strokeWidth:"1",strokeDasharray:"3,3"}),e.jsx("text",{x:w(t),y:N+20,textAnchor:"middle",fontSize:"11",fill:"#6b7280",children:i.timeLabel})]},t))});const I=s.map((i,t)=>{var u,B,$,M,G,O,q,Q;const r=new Date(i.timestamp),n=new Date(k),c=(r-n)/(1e3*60),j=Math.round(c/5);if(j>=0&&j<l.length){const X=w(j),ee=i.alexanderChange>0&&i.beers||i.philipChange>0&&i.beers,te=((B=(u=i.shots)==null?void 0:u.alexander)==null?void 0:B.shots20)>0||((M=($=i.shots)==null?void 0:$.alexander)==null?void 0:M.shots40)>0||((O=(G=i.shots)==null?void 0:G.philip)==null?void 0:O.shots20)>0||((Q=(q=i.shots)==null?void 0:q.philip)==null?void 0:Q.shots40)>0;let _="🍺",Y="#8b5cf6";return te&&!ee?(_="🥃",Y="#f59e0b"):te&&ee&&(_="🍻",Y="#10b981"),e.jsxs("g",{children:[e.jsx("line",{x1:X,y1:0,x2:X,y2:N,stroke:Y,strokeWidth:a?"1.5":"2",strokeDasharray:"4,2",opacity:"0.7"}),e.jsx("circle",{cx:X,cy:-15,r:a?"8":"10",fill:Y,stroke:"white",strokeWidth:a?"2":"3",style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))"}}),e.jsx("text",{x:X,y:a?"-10":"-7",textAnchor:"middle",fontSize:a?"11":"13",fill:"white",className:"font-bold",style:{filter:"drop-shadow(0 1px 2px rgba(0, 0, 0, 0.5))"},children:_})]},t)}return null});return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-3 md:p-4 overflow-x-auto",children:[e.jsxs("svg",{width:h,height:g,className:"overflow-visible mx-auto block",viewBox:a?`0 0 ${h} ${g}`:void 0,style:a?{maxWidth:"100%",height:"auto"}:{},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"backgroundGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#f8fafc"}),e.jsx("stop",{offset:"100%",stopColor:"#f1f5f9"})]}),e.jsxs("filter",{id:"alexanderGlow",children:[e.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"coloredBlur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),e.jsxs("filter",{id:"philipGlow",children:[e.jsx("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),e.jsxs("feMerge",{children:[e.jsx("feMergeNode",{in:"coloredBlur"}),e.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),e.jsx("rect",{x:b.left,y:b.top,width:m,height:N,fill:"url(#backgroundGradient)",rx:"8"}),e.jsxs("g",{transform:`translate(${b.left}, ${b.top})`,children:[F,E,e.jsxs("defs",{children:[e.jsxs("pattern",{id:"warningZone",patternUnits:"userSpaceOnUse",width:"4",height:"4",children:[e.jsx("rect",{width:"4",height:"4",fill:"#fef3c7"}),e.jsx("path",{d:"M 0,2 L 2,0 M 2,4 L 4,2",stroke:"#f59e0b",strokeWidth:"0.3"})]}),e.jsxs("pattern",{id:"dangerZone",patternUnits:"userSpaceOnUse",width:"4",height:"4",children:[e.jsx("rect",{width:"4",height:"4",fill:"#fee2e2"}),e.jsx("path",{d:"M 0,2 L 2,0 M 2,4 L 4,2",stroke:"#ef4444",strokeWidth:"0.3"})]})]}),D>.5&&e.jsx("rect",{x:0,y:p(Math.min(1,D)),width:m,height:p(.5)-p(Math.min(1,D)),fill:"url(#warningZone)",opacity:"0.4"}),D>1&&e.jsx("rect",{x:0,y:0,width:m,height:p(1),fill:"url(#dangerZone)",opacity:"0.4"}),I,l.filter((i,t)=>t%Math.ceil(l.length/8)===0).map((i,t)=>e.jsx("text",{x:w(t*Math.ceil(l.length/8)),y:N+35,textAnchor:"middle",fontSize:"11",fill:"#6b7280",className:"font-medium",children:i.timeLabel},t)),e.jsx("path",{d:f,fill:"none",stroke:"#3b82f6",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#alexanderGlow)",opacity:"0.9"}),e.jsx("path",{d:C,fill:"none",stroke:"#10b981",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#philipGlow)",opacity:"0.9"}),l.map((i,t)=>t%3!==0&&t!==l.length-1?null:e.jsxs("g",{children:[e.jsx("circle",{cx:w(t),cy:p(i.alexander),r:"6",fill:"#3b82f6",stroke:"white",strokeWidth:"3",style:{filter:"drop-shadow(0 2px 4px rgba(59, 130, 246, 0.3))"}}),e.jsx("circle",{cx:w(t),cy:p(i.philip),r:"6",fill:"#10b981",stroke:"white",strokeWidth:"3",style:{filter:"drop-shadow(0 2px 4px rgba(16, 185, 129, 0.3))"}})]},t))]}),!a&&e.jsxs("g",{transform:`translate(${h-b.right+15}, ${b.top+20})`,children:[e.jsx("rect",{x:-10,y:-15,width:85,height:110,fill:"white",stroke:"#e5e7eb",strokeWidth:"2",rx:"8",style:{filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1))"}}),e.jsx("text",{x:30,y:-5,textAnchor:"middle",fontSize:"12",fill:"#374151",className:"font-bold",children:"Legende"}),e.jsx("line",{x1:5,y1:10,x2:20,y2:10,stroke:"#3b82f6",strokeWidth:"4"}),e.jsx("text",{x:25,y:14,fontSize:"11",fill:"#374151",className:"font-medium",children:"Alexander"}),e.jsx("line",{x1:5,y1:30,x2:20,y2:30,stroke:"#10b981",strokeWidth:"4"}),e.jsx("text",{x:25,y:34,fontSize:"11",fill:"#374151",className:"font-medium",children:"Philip"}),e.jsx("line",{x1:5,y1:50,x2:20,y2:50,stroke:"#8b5cf6",strokeWidth:"2",strokeDasharray:"4,2"}),e.jsx("text",{x:25,y:54,fontSize:"11",fill:"#374151",className:"font-medium",children:"🍺 Bier"}),e.jsx("line",{x1:5,y1:70,x2:20,y2:70,stroke:"#f59e0b",strokeWidth:"2",strokeDasharray:"4,2"}),e.jsx("text",{x:25,y:74,fontSize:"11",fill:"#374151",className:"font-medium",children:"🥃 Shots"}),e.jsx("line",{x1:5,y1:90,x2:20,y2:90,stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4,2"}),e.jsx("text",{x:25,y:94,fontSize:"11",fill:"#374151",className:"font-medium",children:"🍻 Mix"})]})]}),a&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2 text-center",children:"Legende"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-5 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Alexander"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("div",{className:"w-5 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Philip"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("span",{className:"text-lg",children:"🍺"}),e.jsx("span",{className:"text-sm",children:"Bier"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("span",{className:"text-lg",children:"🥃"}),e.jsx("span",{className:"text-sm",children:"Shots"})]})]})]})]})};return k?e.jsxs("div",{className:"modern-card mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>J(!o),children:[e.jsx("h3",{className:"font-bold text-lg text-text-primary",children:"📈 Alkoholverlauf beider Manager"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Alexander: "}),e.jsxs("span",{className:`font-bold ${d(((T=l[l.length-1])==null?void 0:T.alexander)||0)}`,children:[(((H=l[l.length-1])==null?void 0:H.alexander)||0).toFixed(2),"‰"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{children:"Philip: "}),e.jsxs("span",{className:`font-bold ${d(((W=l[l.length-1])==null?void 0:W.philip)||0)}`,children:[(((Z=l[l.length-1])==null?void 0:Z.philip)||0).toFixed(2),"‰"]})]})]}),e.jsx("button",{className:"text-2xl transition-transform duration-200",children:o?"📉":"📊"})]})]}),o&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"mb-4 text-sm text-text-muted",children:["BAK-Verlauf seit Trinkbeginn (",new Date(k).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"}),")"]}),e.jsx(U,{}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-yellow-800 mb-1",children:"⚠️ Grenzwerte"}),e.jsxs("div",{className:"text-yellow-700 space-y-1",children:[e.jsx("div",{children:"0,3‰: Reaktionszeit verlangsamt"}),e.jsx("div",{children:"0,5‰: Fahruntüchtig"}),e.jsx("div",{children:"1,0‰: Schwer betrunken"})]})]}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-blue-800 mb-1",children:"🔵 Alexander aktuell"}),e.jsxs("div",{className:"text-blue-700",children:[e.jsxs("div",{children:["Gewicht: ",z.aek.weight,"kg"]}),e.jsxs("div",{children:["Biere: ",A.alexander]}),e.jsxs("div",{children:["Shots: ",v.alexander.shots20+v.alexander.shots40]})]})]}),e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-green-800 mb-1",children:"🟢 Philip aktuell"}),e.jsxs("div",{className:"text-green-700",children:[e.jsxs("div",{children:["Gewicht: ",z.real.weight,"kg"]}),e.jsxs("div",{children:["Biere: ",A.philip]}),e.jsxs("div",{children:["Shots: ",v.philip.shots20+v.philip.shots40]})]})]})]}),s.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"font-medium text-purple-800 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:"🍺"}),e.jsx("span",{children:"Getränke-Timeline (letzte 5)"})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto custom-scrollbar",children:s.slice(-5).reverse().map((a,h)=>{var w,p,y,f,C,F,P,E,L,I;const g=((w=a.beers)==null?void 0:w.alexander)||0,b=((p=a.beers)==null?void 0:p.philip)||0,m=(((f=(y=a.shots)==null?void 0:y.alexander)==null?void 0:f.shots20)||0)+(((F=(C=a.shots)==null?void 0:C.alexander)==null?void 0:F.shots40)||0),N=(((E=(P=a.shots)==null?void 0:P.philip)==null?void 0:E.shots20)||0)+(((I=(L=a.shots)==null?void 0:L.philip)==null?void 0:I.shots40)||0);return e.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded-md border border-purple-100",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-xs text-purple-600 font-mono",children:new Date(a.timestamp).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})}),e.jsxs("div",{className:"flex items-center gap-3",children:[a.alexanderChange>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Alex:"}),g>0&&e.jsxs("span",{className:"flex items-center text-sm",children:["🍺",e.jsxs("span",{className:"text-xs text-blue-600 ml-0.5",children:["+",a.alexanderChange]})]}),m>0&&e.jsxs("span",{className:"flex items-center text-sm",children:["🥃",e.jsxs("span",{className:"text-xs text-blue-600 ml-0.5",children:["+",a.alexanderChange]})]})]}),a.philipChange>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Phil:"}),b>0&&e.jsxs("span",{className:"flex items-center text-sm",children:["🍺",e.jsxs("span",{className:"text-xs text-green-600 ml-0.5",children:["+",a.philipChange]})]}),N>0&&e.jsxs("span",{className:"flex items-center text-sm",children:["🥃",e.jsxs("span",{className:"text-xs text-green-600 ml-0.5",children:["+",a.philipChange]})]})]})]})]},h)})})]})]})]}):null};function ne({onNavigate:z,showHints:A=!1}){var i;const[v,k]=S.useState("alcohol"),[o,J]=S.useState({aek:{name:"Alexander",age:30,weight:110},real:{name:"Philip",age:30,weight:105}}),[l,K]=S.useState({alexander:0,philip:0}),[s,V]=S.useState({alexander:{shots20:0,shots40:0},philip:{shots20:0,shots40:0}}),[x,R]=S.useState(null),D=S.useCallback(async()=>{try{console.log("🔄 Loading managers from database...");const t=await se.getManagers();if(console.log("📊 Manager data result:",t),t&&t.data&&Array.isArray(t.data)&&t.data.length>=2){console.log("✅ Manager data loaded successfully:",t.data);const r=t.data.find(c=>c.id===1)||{name:"Alexander",gewicht:110},n=t.data.find(c=>c.id===2)||{name:"Philip",gewicht:105};console.log("👤 AEK Manager:",r),console.log("👤 Real Manager:",n),J({aek:{name:r.name,age:r.age||30,weight:r.gewicht},real:{name:n.name,age:n.age||30,weight:n.gewicht}})}else console.warn("⚠️ No manager data found, using defaults. Result:",t),J({aek:{name:"Alexander",age:30,weight:110},real:{name:"Philip",age:30,weight:105}})}catch(t){console.error("❌ Error loading manager settings from database:",t),J({aek:{name:"Alexander",age:30,weight:110},real:{name:"Philip",age:30,weight:105}})}},[]),[d,U]=S.useState({alexander:{balance:0,totalEarnings:0},philip:{balance:0,totalEarnings:0},gameCounter:0,rounds:[],currentRound:{active:!1,roundNumber:1,games:[],startTime:null}}),[T,H]=S.useState({alexander:"",philip:""});S.useEffect(()=>{D();const t=localStorage.getItem("beerConsumption");if(t)try{K(JSON.parse(t))}catch(u){console.error("Error loading beer consumption:",u)}const r=localStorage.getItem("shotConsumption");if(r)try{V(JSON.parse(r))}catch(u){console.error("Error loading shot consumption:",u)}const n=localStorage.getItem("drinkingStartTime");n&&R(n);const c=localStorage.getItem("bjTracking");if(c)try{const u=JSON.parse(c);U(u)}catch(u){console.error("Error loading BJ tracking data:",u),U({alexander:{balance:0,totalEarnings:0},philip:{balance:0,totalEarnings:0},gameCounter:0,rounds:[],currentRound:{active:!1,roundNumber:1,games:[],startTime:null}})}const j=()=>{D()};return window.addEventListener("managerSettingsChanged",j),()=>window.removeEventListener("managerSettingsChanged",j)},[D]);const W=t=>{K(t),localStorage.setItem("beerConsumption",JSON.stringify(t))},Z=t=>{V(t),localStorage.setItem("shotConsumption",JSON.stringify(t))},a=t=>{const r={...l,[t]:l[t]+1};if(W(r),!x){const n=new Date().toISOString();R(n),localStorage.setItem("drinkingStartTime",n)}},h=()=>{const t={alexander:l.alexander+1,philip:l.philip+1};if(W(t),!x){const r=new Date().toISOString();R(r),localStorage.setItem("drinkingStartTime",r)}},g=(t,r)=>{const n=r===40?"shots40":"shots20",c={...s,[t]:{...s[t],[n]:s[t][n]+1}};if(Z(c),!x){const j=new Date().toISOString();R(j),localStorage.setItem("drinkingStartTime",j)}},b=()=>{W({alexander:0,philip:0}),Z({alexander:{shots20:0,shots40:0},philip:{shots20:0,shots40:0}}),R(null),localStorage.removeItem("drinkingStartTime")},m=(t,r,n,c=null)=>{if(!n.weight||t===0&&(!r||r.shots20===0&&r.shots40===0))return"0.00";const j=t*25*.789;let u=0;r&&(u=r.shots20*20*.2*.789+r.shots40*20*.4*.789);const B=j+u,$=n.gender==="male"?.7:.6;let M=B/($*n.weight);if(c){const G=new Date,O=new Date(c),Q=(G-O)/(1e3*60*60)*.15;M=Math.max(0,M-Q)}return M.toFixed(2)},N=(t,r,n,c)=>{if(!n.weight||t===0&&(!r||r.shots20===0&&r.shots40===0)||!c)return null;const j=t*25*.789;let u=0;r&&(u=r.shots20*20*.2*.789+r.shots40*20*.4*.789);const B=j+u,$=n.gender==="male"?.7:.6,G=B/($*n.weight)/.15,O=new Date(c);return new Date(O.getTime()+G*60*60*1e3)},w=({bac:t,name:r})=>{const n=parseFloat(t),j=Math.min(n/2*100,100),u=B=>B>=1?"bg-red-500":B>=.5?"bg-orange-500":B>=.3?"bg-yellow-500":"bg-green-500";return e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"0‰"}),e.jsxs("span",{children:[r," BAC"]}),e.jsx("span",{children:"2‰"})]}),e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-4 relative",children:[e.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${u(n)}`,style:{width:`${j}%`}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white",children:[t,"‰"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"Nüchtern"}),e.jsx("span",{children:"Betrunken"})]})]})},p=()=>{if(!x)return null;const t=new Date,r=new Date(x),n=(t-r)/(1e3*60*60);return n<1?`${Math.floor(n*60)} Minuten`:`${n.toFixed(1)} Stunden`},y=t=>{U(t),localStorage.setItem("bjTracking",JSON.stringify(t))},f=(t,r)=>{const n={...d,[t]:{...d[t],balance:d[t].balance+r,totalEarnings:d[t].totalEarnings+r},gameCounter:d.gameCounter+1};if(d.currentRound.active){const c={id:Date.now(),gameNumber:d.gameCounter+1,player:t,amount:r,timestamp:new Date().toISOString(),description:`${t==="alexander"?o.aek.name:o.real.name}: +${r.toFixed(2)}€`};n.currentRound.games=[...d.currentRound.games,c]}y(n)},C=()=>{const t={...d,gameCounter:d.gameCounter+1};if(d.currentRound.active){const r={id:Date.now(),gameNumber:d.gameCounter+1,player:null,amount:0,timestamp:new Date().toISOString(),description:"Unentschieden (0€)"};t.currentRound.games=[...d.currentRound.games,r]}y(t)},F=()=>{const t={...d,currentRound:{active:!0,roundNumber:d.rounds.length+1,games:[],startTime:new Date().toISOString()}};y(t)},P=()=>{if(!d.currentRound.active)return;const t={id:Date.now(),roundNumber:d.currentRound.roundNumber,games:[...d.currentRound.games],startTime:d.currentRound.startTime,endTime:new Date().toISOString(),gamesCount:d.currentRound.games.length,alexanderTotal:d.currentRound.games.filter(n=>n.player==="alexander").reduce((n,c)=>n+c.amount,0),philipTotal:d.currentRound.games.filter(n=>n.player==="philip").reduce((n,c)=>n+c.amount,0)},r={...d,rounds:[...d.rounds,t],currentRound:{active:!1,roundNumber:d.rounds.length+2,games:[],startTime:null}};y(r)},E=()=>{y({alexander:{balance:0,totalEarnings:0},philip:{balance:0,totalEarnings:0},gameCounter:0,rounds:[],currentRound:{active:!1,roundNumber:1,games:[],startTime:null}})},L=(t,r)=>{H(n=>({...n,[t]:r}))},I=t=>{const r=parseFloat(T[t]);r&&r>0&&(f(t,r),H(n=>({...n,[t]:""})))};return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6 animate-mobile-slide-in",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-info rounded-ios-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"🍺"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-title1 font-bold text-text-primary",children:"Alkohol & Blackjack"}),e.jsx("p",{className:"text-footnote text-text-secondary",children:"Alexander vs Philip - Getränke und Kartenspiele verfolgen"})]})]}),e.jsx("div",{className:"w-full h-1 bg-bg-tertiary rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-info w-3/4 rounded-full animate-pulse-gentle"})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>k("alcohol"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 ${v==="alcohol"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"🍺 Alkohol-Tracker"}),e.jsx("button",{onClick:()=>k("blackjack"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200 ${v==="blackjack"?"bg-white text-red-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"🃏 Blackjack-Tracker"})]})}),v==="alcohol"&&e.jsxs(e.Fragment,{children:[x&&e.jsxs("div",{className:"mb-4 text-sm text-text-muted",children:["📅 Trinken gestartet vor: ",p()]}),e.jsxs("div",{className:"modern-card mb-6 bg-gradient-to-r from-blue-50 to-green-50 border-2 border-blue-200",children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"⚡"}),e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Schnell-Aktionen"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("button",{onClick:h,className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white px-6 py-4 rounded-xl transition-all duration-200 font-medium text-lg shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🍻"}),e.jsx("span",{children:"Beiden ein Bier hinzufügen"})]}),e.jsxs("button",{onClick:b,className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-4 py-3 rounded-xl transition-all duration-200 font-medium shadow-md hover:shadow-lg flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🔄"}),e.jsx("span",{children:"Zurücksetzen"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-300 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-lg text-blue-700 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🔵"}),e.jsx("span",{children:o.aek.name})]}),e.jsxs("div",{className:"text-sm text-blue-600 bg-blue-200 px-3 py-1 rounded-full font-medium",children:[o.aek.weight,"kg"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsx("button",{onClick:()=>a("alexander"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-3 rounded-xl transition-all duration-200 font-medium text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:"🍺 + Bier"}),e.jsx("button",{onClick:()=>g("alexander",20),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-3 rounded-xl transition-all duration-200 font-medium text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:"🥃 Shot 20%"}),e.jsx("button",{onClick:()=>g("alexander",40),className:"bg-blue-700 hover:bg-blue-800 text-white px-3 py-3 rounded-xl transition-all duration-200 font-medium text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:"🥃 Shot 40%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-blue-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:l.alexander}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"🍺"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-blue-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:s.alexander.shots20}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"🥃20%"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-blue-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:s.alexander.shots40}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"🥃40%"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-100 to-blue-50 border border-blue-300 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:[m(l.alexander,s.alexander,{weight:o.aek.weight,gender:"male"},x),"‰"]}),e.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Blutalkoholkonzentration (BAK)"}),(l.alexander>0||s.alexander.shots20>0||s.alexander.shots40>0)&&e.jsxs("div",{className:"text-xs text-blue-500 mt-1",children:[l.alexander>0&&`${l.alexander} × 0,5L Bier`,l.alexander>0&&(s.alexander.shots20>0||s.alexander.shots40>0)&&" + ",s.alexander.shots20>0&&`${s.alexander.shots20} × 2cl (20%)`,s.alexander.shots20>0&&s.alexander.shots40>0&&" + ",s.alexander.shots40>0&&`${s.alexander.shots40} × 2cl (40%)`]})]}),e.jsx(w,{bac:m(l.alexander,s.alexander,{weight:o.aek.weight,gender:"male"},x),name:"Alexander"}),x&&(l.alexander>0||s.alexander.shots20>0||s.alexander.shots40>0)&&e.jsx("div",{className:"mt-3 text-center text-sm text-blue-600",children:(()=>{const t=N(l.alexander,s.alexander,{weight:o.aek.weight,gender:"male"},x);return t&&t>new Date?`🕐 Wieder nüchtern: ${t.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}`:parseFloat(m(l.alexander,s.alexander,{weight:o.aek.weight,gender:"male"},x))===0?"✅ Bereits nüchtern":null})()})]})]}),e.jsxs("div",{className:"modern-card bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-300 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-lg text-green-700 flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"🟢"}),e.jsx("span",{children:o.real.name})]}),e.jsxs("div",{className:"text-sm text-green-600 bg-green-200 px-3 py-1 rounded-full font-medium",children:[o.real.weight,"kg"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[e.jsx("button",{onClick:()=>a("philip"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-3 rounded-xl transition-all duration-200 font-medium text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:"🍺 + Bier"}),e.jsx("button",{onClick:()=>g("philip",20),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-3 rounded-xl transition-all duration-200 font-medium text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:"🥃 Shot 20%"}),e.jsx("button",{onClick:()=>g("philip",40),className:"bg-green-700 hover:bg-green-800 text-white px-3 py-3 rounded-xl transition-all duration-200 font-medium text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:"🥃 Shot 40%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-green-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:l.philip}),e.jsx("span",{className:"text-xs text-green-600 ml-1",children:"🍺"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-green-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:s.philip.shots20}),e.jsx("span",{className:"text-xs text-green-600 ml-1",children:"🥃20%"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-green-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:s.philip.shots40}),e.jsx("span",{className:"text-xs text-green-600 ml-1",children:"🥃40%"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-700 mb-2",children:[m(l.philip,s.philip,{weight:o.real.weight,gender:"male"},x),"‰"]}),e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Blutalkoholkonzentration (BAK)"}),(l.philip>0||s.philip.shots20>0||s.philip.shots40>0)&&e.jsxs("div",{className:"text-xs text-green-500 mt-1",children:[l.philip>0&&`${l.philip} × 0,5L Bier`,l.philip>0&&(s.philip.shots20>0||s.philip.shots40>0)&&" + ",s.philip.shots20>0&&`${s.philip.shots20} × 2cl (20%)`,s.philip.shots20>0&&s.philip.shots40>0&&" + ",s.philip.shots40>0&&`${s.philip.shots40} × 2cl (40%)`]})]}),e.jsx(w,{bac:m(l.philip,s.philip,{weight:o.real.weight,gender:"male"},x),name:"Philip"}),x&&(l.philip>0||s.philip.shots20>0||s.philip.shots40>0)&&e.jsx("div",{className:"mt-3 text-center text-sm text-green-600",children:(()=>{const t=N(l.philip,s.philip,{weight:o.real.weight,gender:"male"},x);return t&&t>new Date?`🕐 Wieder nüchtern: ${t.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}`:parseFloat(m(l.philip,s.philip,{weight:o.real.weight,gender:"male"},x))===0?"✅ Bereits nüchtern":null})()})]})]})]}),e.jsxs("div",{className:"modern-card mt-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"📊 Erweiterte Statistiken"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-md mb-3 text-text-primary",children:"🍻 Aktuelle Session"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-text-primary",children:l.alexander+l.philip}),e.jsx("div",{className:"text-sm text-text-muted",children:"Biere gesamt"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-text-primary",children:[((l.alexander+l.philip)*.5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Biervolumen"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-text-primary",children:s.alexander.shots20+s.alexander.shots40+s.philip.shots20+s.philip.shots40}),e.jsx("div",{className:"text-sm text-text-muted",children:"Shots gesamt"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-text-primary",children:[(s.alexander.shots20+s.alexander.shots40+s.philip.shots20+s.philip.shots40)*2,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Shot-Volumen"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-md mb-3 text-text-primary",children:"👥 Spieler-Vergleich"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("h5",{className:"font-semibold text-blue-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🔵"}),o.aek.name]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Biere:"}),e.jsx("span",{className:"font-semibold",children:l.alexander})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shots (20%):"}),e.jsx("span",{className:"font-semibold",children:s.alexander.shots20})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shots (40%):"}),e.jsx("span",{className:"font-semibold",children:s.alexander.shots40})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{children:"Aktueller BAK:"}),e.jsxs("span",{className:"font-bold text-blue-700",children:[m(l.alexander,s.alexander,o.aek,x),"‰"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Alkohol-Volumen:"}),e.jsxs("span",{className:"font-semibold",children:[(l.alexander*.5*.05+s.alexander.shots20*.02*.2+s.alexander.shots40*.02*.4).toFixed(2),"L"]})]})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("h5",{className:"font-semibold text-green-700 mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"🟢"}),o.real.name]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Biere:"}),e.jsx("span",{className:"font-semibold",children:l.philip})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shots (20%):"}),e.jsx("span",{className:"font-semibold",children:s.philip.shots20})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Shots (40%):"}),e.jsx("span",{className:"font-semibold",children:s.philip.shots40})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{children:"Aktueller BAK:"}),e.jsxs("span",{className:"font-bold text-green-700",children:[m(l.philip,s.philip,o.real,x),"‰"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Alkohol-Volumen:"}),e.jsxs("span",{className:"font-semibold",children:[(l.philip*.5*.05+s.philip.shots20*.02*.2+s.philip.shots40*.02*.4).toFixed(2),"L"]})]})]})]})]})]}),x&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-md mb-3 text-text-primary",children:"⏰ Session-Info"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg border border-indigo-200",children:[e.jsx("div",{className:"text-lg font-bold text-indigo-700",children:p()}),e.jsx("div",{className:"text-sm text-indigo-600",children:"Trinkdauer"})]}),e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsxs("div",{className:"text-lg font-bold text-purple-700",children:[Math.max(parseFloat(m(l.alexander,s.alexander,o.aek,x)),parseFloat(m(l.philip,s.philip,o.real,x))).toFixed(2),"‰"]}),e.jsx("div",{className:"text-sm text-purple-600",children:"Höchster BAK"})]}),e.jsxs("div",{className:"p-3 bg-orange-50 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-lg font-bold text-orange-700",children:((l.alexander+l.philip)/Math.max(1,parseFloat(((i=p())==null?void 0:i.split(" ")[0])||"1"))).toFixed(1)}),e.jsx("div",{className:"text-sm text-orange-600",children:"Biere/Stunde"})]})]})]}),x&&(l.alexander>0||l.philip>0||s.alexander.shots20>0||s.alexander.shots40>0||s.philip.shots20>0||s.philip.shots40>0)&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-semibold text-md mb-3 text-text-primary",children:"🕐 Nüchternzeit-Prognose"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(()=>{const t=N(l.alexander,s.alexander,o.aek,x),r=N(l.philip,s.philip,o.real,x);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 text-center",children:[e.jsx("div",{className:"text-sm font-medium text-blue-700 mb-1",children:o.aek.name}),e.jsx("div",{className:"text-lg font-bold text-blue-800",children:t?t.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):"Bereits nüchtern"}),e.jsx("div",{className:"text-xs text-blue-600",children:t?`${Math.ceil((t-new Date)/(1e3*60*60))}h verbleibend`:"✅"})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200 text-center",children:[e.jsx("div",{className:"text-sm font-medium text-green-700 mb-1",children:o.real.name}),e.jsx("div",{className:"text-lg font-bold text-green-800",children:r?r.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"}):"Bereits nüchtern"}),e.jsx("div",{className:"text-xs text-green-600",children:r?`${Math.ceil((r-new Date)/(1e3*60*60))}h verbleibend`:"✅"})]})]})})()})]})]}),e.jsx(re,{managers:o,beerConsumption:l,shotConsumption:s,drinkingStartTime:x}),A&&e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"ℹ️ Hinweise"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• BAK-Berechnung basiert auf der Widmark-Formel"}),e.jsx("li",{children:"• Annahme: 0,5L Bier mit 5% Alkoholgehalt"}),e.jsx("li",{children:"• Shots: 2cl mit 20% oder 40% Alkoholgehalt"}),e.jsx("li",{children:"• Abbau: 0,15‰ pro Stunde"}),e.jsx("li",{children:"• Farbkodierung: Grün (0-0,3‰), Gelb (0,3-0,5‰), Orange (0,5-1,0‰), Rot (>1,0‰)"}),e.jsx("li",{children:"• Manager-Daten können unter Admin → Team-Verwaltung angepasst werden"})]})]})]}),v==="blackjack"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"🃏 BJ-Tracking System"}),e.jsx("p",{className:"text-text-muted text-sm",children:"Neues Design: Separate Buttons für Alexander und Philip • Nur positive Beträge • Allgemeiner Spielcounter"})]}),e.jsxs("div",{className:"modern-card mb-6 bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-300",children:[e.jsx("h4",{className:"font-bold text-lg mb-4 text-purple-700 flex items-center gap-2",children:"🎯 Übersicht"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"p-4 bg-white rounded-lg border border-purple-200 text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:d.gameCounter}),e.jsx("div",{className:"text-sm text-purple-600",children:"Gespielte Spiele"})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border-2 border-blue-300 text-center",children:[e.jsxs("h5",{className:"font-bold text-blue-700 mb-2 flex items-center justify-center gap-2",children:["🔵 ",o.aek.name]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:["+",d.alexander.balance.toFixed(2),"€"]}),e.jsx("div",{className:"text-xs text-blue-600",children:"Kontostand"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border-2 border-green-300 text-center",children:[e.jsxs("h5",{className:"font-bold text-green-700 mb-2 flex items-center justify-center gap-2",children:["🟢 ",o.real.name]}),e.jsxs("div",{className:"text-2xl font-bold text-green-600 mb-1",children:["+",d.philip.balance.toFixed(2),"€"]}),e.jsx("div",{className:"text-xs text-green-600",children:"Kontostand"})]})]})]}),e.jsxs("div",{className:"modern-card mb-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-yellow-300",children:[e.jsx("h4",{className:"font-bold text-lg mb-4 text-orange-700 flex items-center gap-2",children:"🎮 Hauptbuttons"}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-blue-700 text-center mb-3",children:["🔵 ",o.aek.name]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>f("alexander",5),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🏆 Win",e.jsx("br",{}),"+5.00€"]}),e.jsxs("button",{onClick:()=>f("alexander",7.5),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🃏 BJ",e.jsx("br",{}),"+7.50€"]}),e.jsxs("button",{onClick:()=>f("alexander",2.5),className:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🤝 BJ-Push",e.jsx("br",{}),"+2.50€"]}),e.jsxs("button",{onClick:()=>f("alexander",10),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🎲 Double",e.jsx("br",{}),"+10.00€"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1 mt-3",children:[2.5,5,7.5,10,12.5,15,17.5,20,22.5,25,27.5,30].map(t=>e.jsxs("button",{onClick:()=>f("alexander",t),className:"bg-blue-100 hover:bg-blue-200 text-blue-700 px-2 py-2 rounded-md text-xs font-medium transition-all border border-blue-300 hover:border-blue-400",children:["+",t.toFixed(2),"€"]},t))}),e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h6",{className:"text-xs font-medium text-blue-700 mb-2",children:"💰 Eigener Betrag:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",value:T.alexander,onChange:t=>L("alexander",t.target.value),placeholder:"0.00",className:"flex-1 px-2 py-2 border border-blue-300 rounded-md text-sm text-center focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>I("alexander"),disabled:!T.alexander||parseFloat(T.alexander)<=0,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white px-3 py-2 rounded-md text-xs font-medium transition-all",children:"+€"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"font-medium text-green-700 text-center mb-3",children:["🟢 ",o.real.name]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>f("philip",5),className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🏆 Win",e.jsx("br",{}),"+5.00€"]}),e.jsxs("button",{onClick:()=>f("philip",7.5),className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🃏 BJ",e.jsx("br",{}),"+7.50€"]}),e.jsxs("button",{onClick:()=>f("philip",2.5),className:"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🤝 BJ-Push",e.jsx("br",{}),"+2.50€"]}),e.jsxs("button",{onClick:()=>f("philip",10),className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-3 rounded-lg transition-all duration-200 font-bold text-sm shadow-md hover:shadow-lg transform hover:scale-105",children:["🎲 Double",e.jsx("br",{}),"+10.00€"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-1 mt-3",children:[2.5,5,7.5,10,12.5,15,17.5,20,22.5,25,27.5,30].map(t=>e.jsxs("button",{onClick:()=>f("philip",t),className:"bg-green-100 hover:bg-green-200 text-green-700 px-2 py-2 rounded-md text-xs font-medium transition-all border border-green-300 hover:border-green-400",children:["+",t.toFixed(2),"€"]},t))}),e.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("h6",{className:"text-xs font-medium text-green-700 mb-2",children:"💰 Eigener Betrag:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",min:"0",step:"0.01",value:T.philip,onChange:t=>L("philip",t.target.value),placeholder:"0.00",className:"flex-1 px-2 py-2 border border-green-300 rounded-md text-sm text-center focus:outline-none focus:ring-2 focus:ring-green-500"}),e.jsx("button",{onClick:()=>I("philip"),disabled:!T.philip||parseFloat(T.philip)<=0,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-3 py-2 rounded-md text-xs font-medium transition-all",children:"+€"})]})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:C,className:"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600 text-white px-8 py-3 rounded-lg transition-all duration-200 font-bold shadow-md hover:shadow-lg transform hover:scale-105",children:"🤝 Unentschieden (0€)"})})]}),e.jsxs("div",{className:"modern-card mb-6 bg-gradient-to-r from-indigo-50 to-blue-50 border-2 border-indigo-300",children:[e.jsx("h4",{className:"font-bold text-lg mb-4 text-indigo-700 flex items-center gap-2",children:"📋 Runden-Verwaltung"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[d.currentRound.active?e.jsx("button",{onClick:P,className:"bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white px-6 py-3 rounded-lg transition-all duration-200 font-bold shadow-md hover:shadow-lg transform hover:scale-105",children:"✅ Runde abschließen"}):e.jsx("button",{onClick:F,className:"bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 text-white px-6 py-3 rounded-lg transition-all duration-200 font-bold shadow-md hover:shadow-lg transform hover:scale-105",children:"▶️ Neue Runde starten"}),e.jsx("button",{onClick:E,className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-lg transition-all duration-200 font-bold shadow-md hover:shadow-lg",children:"🔄 Alles zurücksetzen"})]}),d.currentRound.active&&e.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-indigo-200",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm font-medium text-indigo-700 mb-1",children:["📍 Aktuelle Runde ",d.currentRound.roundNumber]}),e.jsxs("div",{className:"text-xs text-indigo-600",children:[d.currentRound.games.length," Spiele in dieser Runde"]})]})})]}),d.rounds.length>0&&e.jsxs("div",{className:"modern-card mb-6",children:[e.jsx("h4",{className:"font-bold text-lg mb-4 text-gray-700 flex items-center gap-2",children:'📊 Runden-Übersicht ("Bankauszug")'}),e.jsx("div",{className:"space-y-4",children:d.rounds.slice().reverse().map(t=>e.jsxs("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h5",{className:"font-bold text-gray-700",children:["📋 Runde ",t.roundNumber]}),e.jsxs("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded-full text-gray-600",children:[t.gamesCount," Spiele"]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(t.endTime).toLocaleString("de-DE")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-blue-700",children:["🔵 ",o.aek.name]}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:["+",t.alexanderTotal.toFixed(2),"€"]})]})}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-green-700",children:["🟢 ",o.real.name]}),e.jsxs("div",{className:"text-xl font-bold text-green-600",children:["+",t.philipTotal.toFixed(2),"€"]})]})})]}),e.jsxs("details",{className:"mt-3",children:[e.jsxs("summary",{className:"cursor-pointer text-sm font-medium text-gray-600 hover:text-gray-800",children:["🎮 Spiele anzeigen (",t.gamesCount,")"]}),e.jsx("div",{className:"mt-2 space-y-1 max-h-40 overflow-y-auto",children:t.games.map(r=>e.jsxs("div",{className:"text-xs p-2 bg-white rounded border border-gray-200 flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-600",children:["Spiel ",r.gameNumber]}),e.jsx("span",{className:"font-medium",children:r.description}),e.jsx("span",{className:"text-gray-500",children:new Date(r.timestamp).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})]},r.id))})]})]},t.id))})]}),d.currentRound.active&&d.currentRound.games.length>0&&e.jsxs("div",{className:"modern-card mb-6 bg-gradient-to-r from-yellow-50 to-amber-50 border-2 border-yellow-300",children:[e.jsxs("h4",{className:"font-bold text-lg mb-4 text-amber-700 flex items-center gap-2",children:["🎯 Aktuelle Runde ",d.currentRound.roundNumber," - Spiele"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:d.currentRound.games.map(t=>e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-amber-200 flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-amber-700",children:["Spiel ",t.gameNumber]}),e.jsx("span",{className:"text-sm",children:t.description}),e.jsx("span",{className:"text-xs text-amber-600",children:new Date(t.timestamp).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})]},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"modern-card bg-gradient-to-br from-blue-50 to-blue-100 border-2 border-blue-300",children:[e.jsxs("h5",{className:"font-bold text-blue-700 mb-3 flex items-center gap-2",children:["🔵 ",o.aek.name," - Statistiken"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700 text-sm",children:"Aktueller Kontostand:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["+",d.alexander.balance.toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-blue-700 text-sm",children:"Gesamt-Verdienst:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["+",d.alexander.totalEarnings.toFixed(2),"€"]})]})]})]}),e.jsxs("div",{className:"modern-card bg-gradient-to-br from-green-50 to-green-100 border-2 border-green-300",children:[e.jsxs("h5",{className:"font-bold text-green-700 mb-3 flex items-center gap-2",children:["🟢 ",o.real.name," - Statistiken"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-700 text-sm",children:"Aktueller Kontostand:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["+",d.philip.balance.toFixed(2),"€"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-green-700 text-sm",children:"Gesamt-Verdienst:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["+",d.philip.totalEarnings.toFixed(2),"€"]})]})]})]})]})]})]})}export{ne as default};
